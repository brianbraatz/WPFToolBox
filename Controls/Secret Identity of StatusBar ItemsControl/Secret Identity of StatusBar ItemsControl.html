<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Petzold Book Blog - The Secret Identity of StatusBar</title></head><body style="text-align: center;">
    <div style="width: 40em; text-align: left;"><p style="text-align: center;"><b><font size="+4">P</font><font size="+3">ETZOLD</font>&nbsp;<font size="+4">B</font><font size="+3">OOK</font>&nbsp;<font size="+4">B</font><font size="+3">LOG</font></b></p><h4 style="text-align: center;">Charles Petzold on writing books, reading books, and exercising the internal <a title="Universal Turing Machine">UTM</a></h4><hr><table width="100%"><tbody><tr><td width="33%"></td><td align="center" width="33%"><a href="http://www.charlespetzold.com/blog/blog.xml">Recent Entries</a></td><td width="33%"></td></tr><tr><td width="33%"><a href="http://www.charlespetzold.com/blog/2006/04/230156.html">&lt; Previous</a></td><td align="center" width="33%"><a href="http://www.charlespetzold.com/blog/toc.html">Browse the Archives</a></td><td align="right" width="33%"><a href="http://www.charlespetzold.com/blog/2006/05/040939.html">Next &gt;</a></td></tr><tr><td width="33%"></td><td align="center" width="33%"><a href="http://www.charlespetzold.com/rss.xml">Subscribe to the RSS Feed</a></td><td width="33%"></td></tr></tbody></table><hr><a href="http://www.charlespetzold.com/blog/2006/05/030215.html" style="color: rgb(0, 0, 128); text-decoration: none;"><h2>The Secret Identity of StatusBar</h2></a><p style="text-align: right;">May 3, 2006<br>New York City</p><p>
Exploring templates in the WPF can sometimes turn up some interesting information.
</p>
<p>
 In the WPF, <i>ItemsControl</i> is the control that implements the storage of multiple items; from <i>ItemsControl</i> descend such crucial controls as <i>Menu</i>, <i>MenuItem</i>, <i>TreeView</i>, <i>TreeViewItem</i>, <i>ToolBar</i>, <i>ListBox</i>, <i>ListView</i>, and <i>StatusBar</i>.
</p>
<p>
In keeping with the "lookless control" philosophy of WPF, <i>ItemControls</i> defines a property named <i>ItemsPanel</i> of type <i>ItemsPanelTemplate</i>. This is basically the <i>Panel</i> element that the particular <i>ItemsControl</i> derivative uses to display multiple items. 
</p>
<p>
Most of the classes that derive from <i>ItemsControl</i> use a <i>StackPanel</i> by default to display items. <i>Menu</i>, however, uses a <i>WrapPanel</i>. That's why the top-level menu wraps. <i>ListBox</i> and <i>ListView</i> use a <i>VirtualizingStackPanel</i>, which is optimized for large amounts of data.
</p>
<p>
The type of panel that <i>StatusBar</i> uses to display its children is unique among all the other derivatives of <i>ItemsControl</i>. It's the <i>DockPanel</i>. I was flabbergasted when I discovered this (using a program that will appear in Chapter 25 of 
<a href="http://www.charlespetzold.com/wpf">my book</a>) because I had struggled with positioning multiple items on a <i>StatusBar</i>
and couldn't quite get it to work. Everything seemed to want to go over
to the left except for the last item, which could have its <i>HorizontalAlignment</i> property set to <i>Right</i>. Well, duh! By default, <i>DockPanel</i> assumes left docking except for the last item, which fills the remainder of the area.
</p>
<p>
In short, to use <i>StatusBar</i> intelligently, you should set the <i>DockPanel.Dock</i>
attached property on the status bar items. Naturally, I haven't found
any documentation that comes anywhere close to suggesting this.
</p>
<p>
The <a href="http://www.charlespetzold.com/blog/2006/05/StatusBarDemo.xaml">StatusBarDemo.xaml</a> file demonstrates the use of <i>DockPanel.Dock</i> on <i>StatusBarItem</i>. (As is normal, the <i>StatusBar</i> itself is docked to the bottom of the page.) I've also used <i>Separator</i> to separate the status bar items.
</p>
<p>
Of course, because this <i>DockPanel</i> is defined in a template, it's very easy to replace it. The
<a href="http://www.charlespetzold.com/blog/2006/05/StatusBarWithUniformGrid.xaml">StatusBarWithUniformGrid.xaml</a> file substitutes a 3-column <i>UniformGrid</i> for the <i>DockPanel</i> and lets you structure a <i>StatusBar</i> with multiple rows and columns. 
</p>
<div id="comments"><hr><table width="100%"><tbody><tr><td width="33%"></td><td align="center" width="33%"><a href="http://www.charlespetzold.com/blog/blog.xml">Recent Entries</a></td><td width="33%"></td></tr><tr><td width="33%"><a href="http://www.charlespetzold.com/blog/2006/04/230156.html">&lt; Previous</a></td><td align="center" width="33%"><a href="http://www.charlespetzold.com/blog/toc.html">Browse the Archives</a></td><td align="right" width="33%"><a href="http://www.charlespetzold.com/blog/2006/05/040939.html">Next &gt;</a></td></tr><tr><td width="33%"></td><td align="center" width="33%"><a href="http://www.charlespetzold.com/rss.xml">Subscribe to the RSS Feed</a></td><td width="33%"></td></tr></tbody></table><hr><p>(c) Copyright Charles Petzold<br><a href="http://www.charlespetzold.com/">www.charlespetzold.com</a></p></div>
<a href="http://www.charlespetzold.com/">  </a></div></body></html>