if(typeof SNAP_COM=="undefined"){SNAP_COM={};}SNAP_COM.snap_shot_obj=function(){var t={};t={div:null,timer_id:null,div_added:null,current_element:null,current_url:null,current_tag:null,current_orientation:"lr",other_bubbles:new Array,thumbnail_precrawl_list:new Array,num_precrawl_sent:0,retry_url_list:{},body_loaded:false,init:function(){var i,el;this.div={};this.observer_array=new Array;this.timer_id={show:null,partial:null};this.div_added=false;this.current_element=null;this.current_url=null;this.view={id:null,time:null};this.imp={icon:0,link:0,auto:0};this.domain=null;this.cfg=SNAP_COM.shot_config;this.host=this.get_domain(document.location.href);this.long_hide=false;this.autoshot_tag_exclude_re=/^(a|area|h\d+|script|style|head|option|applet|code|link|input|map|textarea)$/i;this.first_scan=true;this.as_id_count=0;if(this.cfg.rtl){for(i in this.cfg.rtl_css_pos){var _3=this.cfg.rtl_css_pos[i];if(this.cfg.css_pos[_3].x!=undefined&&this.cfg.css_pos[_3].x!=null){this.cfg.css_pos[_3].xr=this.cfg.css_pos[_3].x;this.cfg.css_pos[_3].x=null;}else{if(this.cfg.css_pos[_3].xr!=undefined&&this.cfg.css_pos[_3].xr!=null){this.cfg.css_pos[_3].x=this.cfg.css_pos[_3].xr;this.cfg.css_pos[_3].xr=null;}}}}if(!this.cfg.rich_shot_re){this.cfg.rich_shot_re=["."];}this.preview_re=new RegExp("("+this.cfg.rich_shot_re.join("|")+")","i");this.rich_shot_exceptions_re=new RegExp("("+this.cfg.rich_shot_exceptions+")","i");this.photo_shot_re=new RegExp("("+this.cfg.photo_shot_re.join("|")+")","i");if(SNAP_COM.window_loaded){this.onload();return;}this.observe(window,"load",this.onload);if(this.cfg.check_defer){el=document.getElementById("snap_preview_anywhere");if(!el||!el.defer){return;}}if(document.defaultView&&document.defaultView.getComputedStyle){this.getStyle=this.getStyleW3C;}else{if(document.documentElement.currentStyle&&this.isIE){this.getStyle=this.getStyleIE;}}this.timer_id.partial=this.later(this.cfg.partial_check.delay,this.partial_check);if(this.cfg.plugin){SNAP_COM.clientActive=true;}},autoshot_init:function(_4){var i,len,m,asm,res=[],el,as_cfg=this.cfg.auto_shot,as=SNAP_COM.autoshot;if(!as_cfg.list_tid===undefined){as_cfg.list_tid={};}if(!as_cfg.color&&as_cfg.color_opt=="site"){el=document.getElementsByTagName("a");if(el.length){el=el[0];as_cfg.color=this.getStyle(el,"color");}}if(!as_cfg.timestamp){as_cfg.timestamp=0;}if(SNAP_COM.autoshot_inspect){if(!as){as={};}if(!as.Results){as.Results={};}if(!as.Results.Matches){as.Results.Matches=[];}as.Results.Matches=as.Results.Matches.concat(SNAP_COM.autoshot_inspect);}if(as&&as.Results&&as.Results.Matches){len=as.Results.Matches.length;for(i=0;i<len;i++){m=as.Results.Matches[i].Match;if(!as_cfg.inspect&&m.inspect){continue;}asm={"re":new RegExp(m.pat,"i"),"pat":m.pat,"type":m.svc,"value":m.tag,"trigger":"both","tid":m.tid,"eid":m.eid,"found":0,"gfound":0,"active":0,"limit":((m.limit!==undefined)?m.limit:1),"inspect":((m.inspect||as_cfg.inspect_all)?1:0),"testset":m.testset?1:0};if(as_cfg.list_tid[m.tid]!==undefined){if(m.inspect){as_cfg.list[as_cfg.list_tid[m.tid]].testset=1;}else{as_cfg.list[as_cfg.list_tid[m.tid]]=asm;}}else{as_cfg.list_tid[m.tid]=as_cfg.list.length;as_cfg.list.push(asm);}if(!as_cfg.timestamp&&m.timestamp){as_cfg.timestamp=m.timestamp;}}SNAP_COM.autoshot=undefined;}len=as_cfg.list.length;for(i=0;i<len;i++){res.push(as_cfg.list[i].pat);}if(res.length){this.autoshot_re=new RegExp("("+res.join("|")+")","ig");}else{this.autoshot_re=undefined;}if(_4&&!this.cfg.partial_check.attempts&&this.body_loaded){this.add_main_div();this.shot_scan();}},get_domain:function(_6){var m=_6.match(/^https?:\/\/([^#]*)/);return m?m[2]:"";},later:function(_8,_9){var _a=this;var _b=Array.prototype.slice.apply(arguments,[2]);return this.sto(function(){_9.apply(_a,_b);},_8);},observe:function(_c,_d,_e){var _f=this;var _10=Array.prototype.slice.apply(arguments,[3]);_10.unshift(undefined);var f=function(ev){_10[0]=ev;_e.apply(_f,_10);};var _13;if(_c.addEventListener){if(_d=="mousewheel"){_d="DOMMouseScroll";}_c.addEventListener(_d,f,false);}else{if(_c.attachEvent){_c.attachEvent("on"+_d,f);}}this.observer_array.push({"element":_c,"name":_d,"method":f});},unobserve_all:function(){var _14=this.observer_array.length;for(var i=0;i<_14;i++){var _16=this.observer_array.pop();if(_16.element.removeEventListener){_16.element.removeEventListener(_16.name,_16.method,false);}else{if(_16.element.detachEvent){_16.element.detachEvent("on"+_16.name,_16.method);}}}},el_prop:function(_17,key,_19){if(_19!==undefined){if(!_17.snap_com_shot){_17.snap_com_shot={};}_17.snap_com_shot[key]=_19;}try{return _17.snap_com_shot&&_17.snap_com_shot[key];}catch(e){return null;}},now:function(){return (new Date()).getTime();},clear_timer:function(_1a){if(this.timer_id[_1a]){clearTimeout(this.timer_id[_1a]);this.timer_id[_1a]=0;}},campaign:function(_1b){return _1b;},is_internal_link:function(_1c){var m,regexS,regex;var _1e=/^(http|file)s?:\/\/(www\.)?(.*?)\//;if(this.domain===null){m=document.location.href.match(_1e);if(m){this.domain=m[3];}else{this.domain="";}}var _1f=_1c.href.match(_1e);if(_1f&&(this.domain==_1f[3])){if(this.cfg.redirect_param){regexS="[\\?&]"+this.cfg.redirect_param+"=([^&#]*)";regex=new RegExp(regexS);if(regex.exec(_1c.href)===null){return true;}else{return false;}}else{return true;}}else{return false;}},is_valid_link:function(_20){var _21=_20.href.match(/^(http)s?:\/\/([^#]*)/);var _22=document.location.href.match(/^(http|file)s?:\/\/([^#]*)/);if(!_21||!_22||(_21[2]==_22[2])||(_21[1]!=="http")){return false;}return true;},add_link_icon:function(el){var _24=this.div.link_icon.cloneNode(false);_24.style.verticalAlign="top";_24.style.display="inline";_24.style.visibility="visible";_24.style.zIndex=el.style.zIndex;this.el_prop(_24,"activated",true);this.el_prop(_24,"is_link_icon",true);this.el_prop(_24,"shot_parent",el);this.el_prop(el,"link_icon",_24);if(this.el_prop(el,"markup")&&(el.style.visibility=="hidden"||el.style.display=="none")){el.parentNode.insertBefore(_24,el.nextSibling);}else{el.appendChild(_24);}return _24;},activate:function(el){var _26,trigger,icon;if(this.el_prop(el,"done")){return;}_26=el.childNodes;var _27=false;for(var i=0;i<_26.length;i++){var n=_26[i];if(n.nodeType==3){var _2a=n.nodeValue;_2a=_2a.replace(/[ \t\r\n]/g,"");if(_2a.length!=0){_27=true;}}else{if(n.tagName!="IMG"){_27=true;}}}if(el.tagName.match(/^AREA$/i)||!_27){this.el_prop(el,"trigger","link");}switch(this.el_prop(el,"trigger")){case "both":trigger=el;this.add_link_icon(el);this.imp.icon++;this.imp.link++;break;case "icon":trigger=this.add_link_icon(el);this.imp.icon++;break;default:trigger=el;this.imp.link++;break;}this.el_prop(trigger,"activated",true);if(this.cfg.observe_event=="link"){this.observe(trigger,"mouseover",this.show_delay,this.cfg.delay.show,this.cfg.delay.move);this.observe(trigger,"mouseout",this.hide_delay,this.cfg.delay.hide);this.observe(trigger,"click",this.hide_delay,0);}this.el_prop(el,"done",true);},conditional_activate:function(el,_2c){if(this.el_prop(el,"done")||!this.is_valid_link(el)){this.el_prop(el,"done",true);return false;}if(_2c.shot[0]&&el.href.indexOf("https://")==-1&&(this.cfg.show_internal||!this.is_internal_link(el))){this.activate(el);return true;}else{}return false;},autoshot_match:function(_2d,_2e){var as,m,i,len;var _30=[];if(!this.autoshot_re){return _30;}this.autoshot_re.lastIndex=0;len=this.cfg.auto_shot.list.length;while((m=this.autoshot_re.exec(_2d))!=null){for(i=0;i<len;i++){as=this.cfg.auto_shot.list[i];if(as.re.test(m[1])){if(_2e){as.gfound++;}else{_30.push({"pos":(this.autoshot_re.lastIndex-m[1].length),"len":m[1].length,"text":m[1],"as":as});}break;}}}return _30;},autoshot_add:function(_31,_32){var i,len,as,en,nn,tn,nv,m,matches,nv_last,icon;if(_31.nodeType!=3||!_32.in_body[0]||_32.activated[0]||!_32.autoshot_ok[0]||!this.autoshot_re){return _31;}if(!this.cfg.auto_shot.inspect&&this.imp.auto>=this.cfg.auto_shot.limit){return _31;}nv=_31.nodeValue;nv_last=0;matches=this.autoshot_match(nv);len=matches.length;for(i=0;i<len;i++){m=matches[i];m.as.found++;if(this.imp.auto<this.cfg.auto_shot.limit&&!m.as.inspect&&m.as.active<m.as.limit){m.as.active++;this.imp.auto++;if(m.as.trigger=="both"){_31.nodeValue=nv.substr(nv_last,(m.pos-nv_last));}else{_31.nodeValue=nv.substr(nv_last,(m.pos-nv_last+m.len));}nv_last=m.pos+m.len;en=document.createTextNode(nv.substr(nv_last));_31.parentNode.insertBefore(en,_31.nextSibling);nn=document.createElement("span");nn.className=m.as.type;nn.style.display="none";nn.innerHTML=" "+m.as.value+" ";this.el_prop(nn,"auto",true);this.el_prop(nn,"markup",true);this.el_prop(nn,"trigger",m.as.trigger);this.el_prop(nn,"autoshot_data",{pattern:m.text,eid:m.as.eid||"",tid:m.as.tid||""});_31.parentNode.insertBefore(nn,_31.nextSibling);this.activate(nn);icon=this.el_prop(nn,"link_icon");if(icon){icon.id="snap_com_shot_engage_icon_"+this.as_id_count;}if(m.as.trigger=="both"){tn=document.createElement("span");tn.innerHTML=m.text;tn.style.textDecoration="none";tn.style.color=this.cfg.auto_shot.color;tn.style.paddingBottom="0px";tn.style.borderBottom="1px "+this.cfg.auto_shot.treatment+" "+this.cfg.auto_shot.color;tn.style.cursor="default";tn.id="snap_com_shot_engage_span_"+this.as_id_count;this.activate(tn);this.el_prop(tn,"shot_parent",nn);this.el_prop(tn,"trigger","both");_31.parentNode.insertBefore(tn,_31.nextSibling);}this.as_id_count++;_31=en;}}},scan_tree:function(_34,_35){var m,i,len,is_markup=false,is_link,nn,tn,nv,am,re,textnode_parent,prop={},next_node;if(_34&&_34.tagName){m=_34.className.match(/(snap_\w+)/ig);if(m){len=m.length;for(i=0;i<len;i++){switch(m[i].toLowerCase()){case "snap_preview":case "snap_shot":case "snap_shots":if(prop.shot!==false){prop.shot=true;}break;case "snap_nopreview":case "snap_noshot":case "snap_noshots":prop.shot=false;break;case "snap_no_icon":prop.trigger="link";break;case "snap_trigger_icon":prop.trigger="icon";break;case "snap_trigger_both":prop.trigger="both";break;case "snap_noengage":prop.autoshot_ok=false;break;default:if(m[i].match(/snap_shots?_(?!attribute)/i)){is_markup=true;}break;}}}is_link=_34.tagName.match(/^(A|AREA)$/i)?true:false;if(this.autoshot_tag_exclude_re.exec(_34.tagName)){prop.autoshot_ok=false;}if(_34.tagName.toLowerCase()=="body"){prop.in_body=true;}for(i in prop){if(prop.hasOwnProperty(i)&&prop[i]!==undefined){_35[i].unshift(prop[i]);}}if((is_link||is_markup)&&!this.el_prop(_34,"done")){this.el_prop(_34,"trigger",_35.trigger[0]);if(!this.cfg.rich_only||is_markup||(_34.href&&!this.is_preview_url(_34.href))){if(prop.shot===false){this.el_prop(_34,"done",true);}else{if(is_markup){if(!is_link){this.el_prop(_34,"trigger","icon");}this.el_prop(_34,"markup",true);this.activate(_34);prop.activated=true;}else{if(prop.shot===true){this.activate(_34);prop.activated=true;}else{if(this.conditional_activate(_34,_35)){prop.activated=true;}}}}}if(this.cfg.thumbnail_precrawl==1){this.cfg.thumbnail_precrawl=10;}if(this.cfg.thumbnail_precrawl!=0&&_34.href&&this.is_preview_url(_34.href)&&prop.activated&&this.thumbnail_precrawl_list.length<this.cfg.thumbnail_precrawl&&(_34.id==null||_34.id.indexOf("snap_com_shot")==-1)){this.thumbnail_precrawl_list.push(_34.href);}if(!prop.activated){this.el_prop(_34,"trigger",false);}}if(this.el_prop(_34,"trigger")){_35.activated.unshift(true);prop.activated=true;}}textnode_parent=undefined;_34=_34.firstChild;while(_34){next_node=_34.nextSibling;if(_34.nodeType==3&&_34.parentNode&&this.autoshot_re&&!this.el_prop(_34.parentNode,"autoshot_done")){this.autoshot_add(_34,_35);textnode_parent=_34.parentNode;}else{this.scan_tree(_34,_35);}_34=next_node;}if(textnode_parent&&!this.cfg.auto_shot.rescan){this.el_prop(textnode_parent,"autoshot_done",true);}for(i in prop){if(prop.hasOwnProperty(i)&&prop[i]!==undefined){_35[i].shift();}}},shot_scan:function(_37){var i,len;if(!_37||_37==document){_37=document;}var _39={shot:[this.cfg.auto_preview],trigger:[],activated:[false],autoshot_ok:[true],in_body:[false]};var _3a=_37;while(_3a=_3a.parentNode){if(_3a.tagName){if(_3a.tagName.toLowerCase()=="body"){_39.in_body[0]=true;}else{if(this.autoshot_tag_exclude_re.exec(_3a.tagName)){_39.autoshot_ok[0]=false;}}}}if(SNAP_COM.autoshot){this.autoshot_init();}if(this.cfg.show_link_icon){_39.trigger.push(this.cfg.preview_trigger);}else{_39.trigger.push("link");}this.scan_tree(_37,_39);if(this.cfg.auto_shot.inspect){len=this.cfg.auto_shot.list.length;for(i=0;i<len;i++){this.cfg.auto_shot.list[i].gfound=0;}this.autoshot_match(this.get_inner_text(document.getElementsByTagName("html")[0]),true);}if(this.cfg.thumbnail_precrawl){this.sendPrecrawlList();}},partial_check:function(){var _3b;var _3c;var _3d;var _3e=0;var _3f=this.cfg.partial_check.delay;if(this.cfg.rescan_after_load&&this.body_loaded){this.cfg.partial_check.attempts=1;_3f=this.cfg.rescan_delay;}this.clear_timer("partial");if(this.cfg.partial_check.attempts<=0){return;}if(document.getElementsByTagName("body").length){if(!this.div_added){this.add_main_div();}_3e=document.getElementsByTagName("*").length;if(_3e!==this.last_partial_check_count){_3b=this.now();this.shot_scan();_3c=this.now()-_3b;_3e=document.getElementsByTagName("*").length;_3d=_3c*3;if(_3d>10000){_3d=10000;}_3f+=_3d;this.last_partial_check_count=_3e;}if(this.first_scan){this.first_scan=false;}else{this.sample();}}this.timer_id.partial=this.later(_3f,this.partial_check);this.cfg.partial_check.attempts--;},onload:function(){this.clear_timer("partial");this.cfg.partial_check.attempts=0;this.body_loaded=true;if(this.cfg.rescan_after_load){this.partial_check();}if(!this.div_added){this.add_main_div();}this.shot_scan();this.sample();},get_all_shot_nodes:function(_40,_41,_42){var els=_40.getElementsByTagName("*");for(var i=0;i<els.length;i++){if(els[i].id){var _45=els[i].id.match(/^snap_com_shot_(\w+)/);if(_45){_41[_45[1]]=els[i];}}}return _41;},set_css:function(_46){var s,i,c,el;if(_46==null){var div=this.div;var cfg=this.cfg;}else{var div=this.other_bubbles[_46];var cfg=this.other_bubbles[_46].cfg;}for(el in div){if(!div[el]||!div.hasOwnProperty(el)){continue;}if(!div[el].style){continue;}s=div[el].style;s.margin="0 0 0 0";s.padding="0 0 0 0";s.border="0";s.fontStyle="normal";s.fontWeight="normal";s.fontFamily="\"trebuchet ms\", arial, helvetica, sans-serif";s.cssFloat="none";s.styleFloat="none";s.position="static";s.left="auto";s.top="auto";s.lineHeight="normal";s.backgroundImage="url("+cfg.prefix.cdn_image+"t.gif)";s.backgroundColor="transparent";s.zIndex=Number(s.zIndex)+(div.demoshot?0:99999);}var _4a={x:"left",xr:"right",y:"top",yb:"bottom",w:"width",h:"height"};for(i in cfg.css_pos){if(!cfg.css_pos.hasOwnProperty(i)){continue;}var pos=cfg.css_pos[i];div[i].style.position="absolute";for(var _4c in _4a){if(((typeof _4a[_4c])=="string")&&(pos[_4c]!==null)&&(pos[_4c]!==undefined)){div[i].style[_4a[_4c]]=pos[_4c]+"px";}}}if(this.isIE&&document.compatMode&&document.compatMode!="CSS1Compat"){c=cfg.css_pos.preview_div;div.preview_div.style.width=(c.w+2)+"px";div.preview_div.style.height=(c.h+2)+"px";div.preview.style.width=(c.w+2)+"px";div.preview.style.height=(c.h+2)+"px";c=cfg.css_pos.img_a;div.img_a.style.width=(c.w+2)+"px";div.img_a.style.height=(c.h+2)+"px";div.option_menu.style.width="1px";}if(this.isIE){div.option_cancel.style.top="200px";div.option_cancel.style.height="20px";}if(document.compatMode&&document.compatMode=="CSS1Compat"){div.box.style.height=(cfg.css_pos.box.h-5)+"px";div.box.style.width=(cfg.css_pos.box.w-8)+"px";}for(i=0;i<cfg.t_img.length;i++){if(!cfg.t_img.hasOwnProperty(i)){continue;}div[cfg.t_img[i]].src=cfg.prefix.cdn_image+"t.gif";}div.loading_img.src=cfg.prefix.cdn_image+cfg.resize.img_sized[cfg.size]+"loading.gif";div.cobrand_img.src=cfg.img.cobrand;cfg.palette.zoom_img=(cfg.size=="large")?cfg.palette.zoom_img_minus:cfg.palette.zoom_img_plus;for(i in cfg.palette){if(!cfg.palette.hasOwnProperty(i)||!div[i]||cfg.palette[i]==null){continue;}s=div[i].style;s.backgroundColor="transparent";s.backgroundImage="url("+cfg.img.palette+")";s.backgroundPosition=cfg.palette[i].loc;s.backgroundRepeat="no-repeat";s.width=cfg.palette[i].w+"px";s.height=cfg.palette[i].h+"px";}div.box.style.padding="3px 0 0 6px";for(i in cfg.style){if(!cfg.style.hasOwnProperty(i)){continue;}for(var j in cfg.style[i]){if((typeof cfg.style[i][j])=="string"){if(!div[i]){continue;}div[i].style[j]=cfg.style[i][j];}}}this.opt_url=cfg.prefix.options+"options.php?source="+encodeURIComponent(cfg.source)+"&key="+cfg.key+"&sb="+(cfg.search_box?"1":"0")+"&lang="+cfg.lang+"&th="+cfg.theme+"&rtl="+cfg.rtl;div.submit.alt=cfg.text.SubmitSearch;div.submit.title=cfg.text.SubmitSearch;div.option_button.alt=cfg.text.OptionsTooltip;div.option_button.title=cfg.text.OptionsTooltip;div.option_a.innerHTML=cfg.text.Options;div.option_a.alt=cfg.text.OptionsTooltip;div.option_a.title=cfg.text.OptionsTooltip;div.disable_a.innerHTML=cfg.text.Disable;div.option_close_a.alt="Close";div.option_close_a.title="Close";div.promo_a.innerHTML=cfg.text.GetFreePreviews;div.promo_a.alt=cfg.text.SignUpLink;div.promo_a.title=cfg.text.SignUpLink;div.logo_a.alt=cfg.text.SnapLogoTooltip;div.logo_a.title=cfg.text.SnapLogoTooltip;div.box.value=cfg.text.SearchTheWeb;div.zoom_img.title=(cfg.size=="large")?cfg.text.ReduceShotSize:cfg.text.EnlargeShotSize;div.submit.innerHTML=cfg.text.SearchButton;var _4e=this.getWidth(div.submit);var _4f=this.getWidth(div.search);if((_4e)>=100){_4e=60;div.submit.style.width=_4e+"px";}var _50=_4f-_4e-38;if(_50>0){div.box.style.width=_50+"px";}if(this.isSafari){div.submit.style.height=15;}for(i=0;i<cfg.hidden.length;i++){if(!cfg.hidden.hasOwnProperty(i)){continue;}div[cfg.hidden[i]].style.visibility="hidden";}if((_46==undefined)||SNAP_COM.shot.other_bubbles[_46].demoshot){for(i=0;i<cfg.collapsed.length;i++){if(!cfg.collapsed.hasOwnProperty(i)){continue;}div[cfg.collapsed[i]].style.display="none";}}},add_main_div:function(){var i,el,shot=this;if(this.div_added){return;}var _52=document.getElementsByTagName("html")[0];_52.style.position="static";this.div.main=document.createElement("div");this.div.main.id="snap_com_shot_main";this.div.main.style.position="absolute";this.div.main.style.visibility="hidden";if(this.cfg.force!="yes"&&!this.isOpera&&!this.isSafari){this.div.main.style.top=0;this.sto(function(){if(shot.div.main.offsetTop!==0){shot.div.main.innerHTML="";}},0);}var _53=document.getElementsByTagName("body")[0];_53.insertBefore(this.div.main,_53.firstChild);this.div.main.className="snap_noengage";this.el_prop(this.div.main,"done",true);if(this.cfg.observe_event!="link"){this.observe(_53,"mouseover",this.show_delay,this.cfg.delay.show,this.cfg.delay.move);this.observe(_53,"mouseout",this.hide_delay,this.cfg.delay.hide);this.observe(_53,"click",this.hide_delay,0);}this.div_added=true;this.div.main.innerHTML="<img id=\"snap_com_shot_link_icon\" class=\"snap_preview_icon\" style=\"margin:0 !important\" src=\"http://i.ixnp.com/images/v2.27.1/t.gif\" />\n<img id=\"snap_com_shot_bg_img_tl\" src=\"http://i.ixnp.com/images/v2.27.1/t.gif\" />\n<img id=\"snap_com_shot_bg_img_tr\" src=\"http://i.ixnp.com/images/v2.27.1/t.gif\" />\n<img id=\"snap_com_shot_bg_img_bl\" src=\"http://i.ixnp.com/images/v2.27.1/t.gif\" />\n<img id=\"snap_com_shot_bg_img_br\" src=\"http://i.ixnp.com/images/v2.27.1/t.gif\" />\n<img id=\"snap_com_shot_bg_img_l\" src=\"http://i.ixnp.com/images/v2.27.1/t.gif\" />\n<img id=\"snap_com_shot_bg_img_r\" src=\"http://i.ixnp.com/images/v2.27.1/t.gif\" />\n<img id=\"snap_com_shot_bg_img_t\" src=\"http://i.ixnp.com/images/v2.27.1/t.gif\" />\n<img id=\"snap_com_shot_bg_img_b\" src=\"http://i.ixnp.com/images/v2.27.1/t.gif\" />\n<img id=\"snap_com_shot_point_tr\" src=\"http://i.ixnp.com/images/v2.27.1/t.gif\" />\n<img id=\"snap_com_shot_point_tl\" src=\"http://i.ixnp.com/images/v2.27.1/t.gif\" />\n<img id=\"snap_com_shot_point_br\" src=\"http://i.ixnp.com/images/v2.27.1/t.gif\" />\n<img id=\"snap_com_shot_point_bl\" src=\"http://i.ixnp.com/images/v2.27.1/t.gif\" />\n<div id=\"snap_com_shot_bg_body\"></div>\n\n<img id=\"snap_com_shot_pointer0\" src=\"http://i.ixnp.com/images/v2.27.1/t.gif\" />\n<img id=\"snap_com_shot_pointer1\" src=\"http://i.ixnp.com/images/v2.27.1/t.gif\" />\n<img id=\"snap_com_shot_pointer2\" src=\"http://i.ixnp.com/images/v2.27.1/t.gif\" />\n<img id=\"snap_com_shot_pointer3\" src=\"http://i.ixnp.com/images/v2.27.1/t.gif\" />\n<img id=\"snap_com_shot_pointer4\" src=\"http://i.ixnp.com/images/v2.27.1/t.gif\" />\n<img id=\"snap_com_shot_pointer5\" src=\"http://i.ixnp.com/images/v2.27.1/t.gif\" />\n<div id=\"snap_com_shot_bubble\">\n<img id=\"snap_com_shot_bubble_img\" src=\"http://i.ixnp.com/images/v2.27.1/t.gif\" />\n<div id=\"snap_com_shot_body\">\n <table id=\"snap_com_shot_drag_overlay\" title=\"drag to move\" style=\"display:none; z-index:9; cursor:move !important; \"><tr><td style=\"background-color:transparent;border:0;\">&nbsp;</td></tr></table>\n <div id=\"snap_com_shot_top_left_menu\" style=\"z-index:10\"><img id=\"snap_com_shot_preview_toggle\" src=\"http://i.ixnp.com/images/v2.27.1/t.gif\" style=\"cursor:pointer !important\" /><img id=\"snap_com_shot_rss_toggle\" src=\"http://i.ixnp.com/images/v2.27.1/t.gif\" ALIGN=TOP style=\"cursor:pointer !important\" /></div>\n <div id=\"snap_com_shot_top_right_menu\" style=\"z-index:10\"><img id=\"snap_com_shot_option_button\" src=\"http://i.ixnp.com/images/v2.27.1/t.gif\" style=\"cursor:pointer !important\" /><img id=\"snap_com_shot_zoom_img\" src=\"http://i.ixnp.com/images/v2.27.1/t.gif\" ALIGN=TOP style=\"cursor:pointer !important\" /><img id=\"snap_com_shot_pin_close_img\" title=\"Close\" src=\"http://i.ixnp.com/images/v2.27.1/t.gif\" ALIGN=TOP style=\"cursor:pointer !important\" /></div>\n <div id=\"snap_com_shot_option_menu\" style=\"z-index:10\">\n  <div id=\"snap_com_shot_option_a\" style=\"cursor:pointer !important\" ></div>\n  <div id=\"snap_com_shot_disable_a\" style=\"cursor:pointer !important\" ></div>\n </div>\n <div id=\"snap_com_shot_search\" style=\"margin:0 !important; padding:0 !important\">\n  <div id=\"snap_com_shot_search_form\" style=\"margin:0 !important; padding:0 !important\" action=\"#\" method=\"GET\" accept-charset=\"UTF8\" target=\"_blank\">\n   <input id=\"snap_com_shot_box\" type=\"text\" name=\"query\" autocomplete=\"off\" style=\"visibility:inherit !important\" />\n   <button type=\"submit\" name=\"snap_com_shot_submit\" id=\"snap_com_shot_submit\"></button>\n   <a href=\"about:blank\" id=\"snap_com_shot_hidden_link\"></a>\n  </div>\n </div>\n <div id=\"snap_com_shot_promo\"><a class=\"snap_nopreview\" id=\"snap_com_shot_promo_a\"></a><img id=\"snap_com_shot_promo_icon\" src=\"http://i.ixnp.com/images/v2.27.1/t.gif\" style=\"border-bottom:none !important; cursor:pointer !important\" /></div>\n <div id=\"snap_com_shot_preview_div\">\n  <img id=\"snap_com_shot_rss_check\" src=\"http://i.ixnp.com/images/v2.27.1/t.gif\"/>\n  <div style=\"white-space: nowrap !important;\" id=\"snap_com_shot_url_wrapper\"><a class=\"snap_nopreview\" id=\"snap_com_shot_url_favicon\" href=\"#\"><img id=\"snap_com_shot_favicon\" src=\"http://i.ixnp.com/images/v2.27.1/t.gif\" /></a>&nbsp;<a class=\"snap_nopreview\" id=\"snap_com_shot_url_a\" href=\"#\"><span id=\"snap_com_shot_url\"></span></a>&nbsp;<a class=\"snap_nopreview\" id=\"snap_com_shot_url_arrow\" href=\"#\"><img id=\"snap_com_shot_arrow\" src=\"http://i.ixnp.com/images/v2.27.1/t.gif\" /></a></div>\n  <a class=\"snap_nopreview\" id=\"snap_com_shot_img_a\" href=\"#\"><img id=\"snap_com_shot_preview_img\" src=\"http://i.ixnp.com/images/v2.27.1/t.gif\"/></a>\n  <iframe width=\"100%\" height=\"100%\" name=\"snap_com_shot_preview\" id=\"snap_com_shot_preview\" scrolling=\"no\" frameborder=\"no\" src=\"about:blank\"></iframe><img id=\"snap_com_shot_loading_img\" src=\"http://i.ixnp.com/images/v2.27.1/t.gif\" />\n </div>\n <iframe id=\"snap_com_shot_spasense_iframe\" frameborder=\"no\" scrolling=\"no\" src=\"about:blank\" ALLOWTRANSPARENCY=\"true\"></iframe>\n <img id=\"snap_com_shot_cobrand_img\" src=\"http://i.ixnp.com/images/v2.27.1/t.gif\"/>\n  <table id=\"snap_com_shot_flash_overlay\" title=\"click to play\" style=\"display:none; z-index:11; cursor:pointer !important;\"><tr><td>&nbsp;</td></tr></table>\n</div><div id=\"snap_com_shot_options\" >\n <iframe id=\"snap_com_shot_option_iframe\"  width=\"265\" height=\"190\" frameborder=\"0\" scrolling=\"no\" src=\"about:blank\" /></iframe>\n <div id=\"snap_com_shot_option_menu_bar\"><img class=\"snap_nopreview\" id=\"snap_com_shot_option_button_disabled\" src=\"http://i.ixnp.com/images/v2.27.1/t.gif\" /><img class=\"snap_nopreview\" id=\"snap_com_shot_option_close_a\" src=\"http://i.ixnp.com/images/v2.27.1/t.gif\" style=\"cursor:pointer !important\" /></div>\n<input id=\"snap_com_shot_option_cancel\" style=\"visibility:inherit\" name=\"cancelBtn\" type=\"button\" value=\"Cancel\" title=\"Close\" />\n</div>\n <a class=\"snap_nopreview\" id=\"snap_com_shot_banner\" href=\"\" target=\"_blank\" style=\"z-index:5\"><div style=\"display:none\"></div></a>\n <a class=\"snap_nopreview\" id=\"snap_com_shot_cobrand_a\" href=\"\" target=\"_blank\"><div style=\"display:none\"></div></a>\n <a class=\"snap_nopreview\" id=\"snap_com_shot_logo_a\" href=\"\" style=\"height: 5px\" target=\"_blank\"><div style=\"display:none\"></div></a>\n <img id=\"snap_com_shot_lg\" src=\"http://i.ixnp.com/images/v2.27.1/t.gif\" />\n</div>\n";this.get_all_shot_nodes(this.div.main,this.div);this.set_css();this.div.flash_overlay.title=this.cfg.text.ClickToPlay;if(this.cfg.size=="large"){this.div.zoom_img.style.display="none";}this.raise_loading_img();this.observe(this.div.bubble,"mouseover",this.rollover);this.observe(this.div.bubble,"mouseout",this.rollout);this.observe(this.div.option_iframe,"mouseover",this.rollover);this.observe(this.div.option_iframe,"mouseout",this.rollout);for(i=0;i<this.cfg.pointer.steps;i++){this.observe(this.div["pointer"+i],"mouseover",this.rollover);this.observe(this.div["pointer"+i],"mouseout",this.rollout);}this.observe(this.div.preview,"load",this.lower_loading_img,"iframe");this.observe(this.div.preview_img,"load",this.preview_img_loaded);this.observe(this.div.rss_check,"load",this.rss_check_loaded);this.observe(this.div.option_iframe,"mouseout",function(_54){_54.returnValue=false;_54.cancelBubble=true;});this.addMenuEvents(this.div);this.observe(this.div.promo_a,"mouseover",function(){this.div.promo_a.style.borderBottom="none";});this.observe(this.div.promo_a,"mouseout",function(){this.div.promo_a.style.borderBottom="1px dotted #747274";});var _55=["img_a","url_a","url_favicon","url_arrow"];for(var i=0;i<_55.length;i++){this.observe(this.div[_55[i]],"mouseup",this.link_click);this.observe(this.div[_55[i]],"click",this.link_click);}this.observe(this.div.url_wrapper,"mouseover",this.title_mouseover);this.observe(this.div.url_wrapper,"mouseout",this.title_mouseout);this.dragFunction=function(ev){shot.dragMove(ev);};this.dragStopFunction=function(ev){shot.dragStop(ev);};this.observe(document,"mousemove",this.dragFunction);this.observe(document,"mouseup",this.dragStopFunction);this.observe(this.div.flash_overlay,"click",this.startFlash);this.observe(this.div.drag_overlay,"mousedown",this.dragStart);this.observe(document,"mousewheel",function(ev){if(this.div.main.style.visibility=="visible"){shot.hide_delay(null,shot.cfg.delay.hide);}shot.disabled=true;clearTimeout(shot.disableTimer);shot.disableTimer=shot.sto(function(){shot.disabled=false;},200);});this.observe(this.div.submit,"click",this.form_submit);this.observe(this.div.box,"keydown",this.form_submit);this.observe(this.div.box,"focus",function(ev){if(shot.div.box.value===shot.cfg.text.SearchTheWeb){shot.div.box.value="";}});var _5a="?source="+encodeURIComponent(this.cfg.source)+"&campaign=";this.div.logo_a.href=this.cfg.href.logo+_5a+this.campaign("bsblogo");switch(this.cfg.attribution_split_test_suffix){case "_1":case "_2":case "_3":case "_4":this.div.promo_a.href=this.cfg.href.client_download;break;case "_7":this.div.promo_a.href=this.cfg.href.client_about;break;default:this.div.promo_a.href=this.cfg.href.shot_signup;}this.div.cobrand_a.href=this.cfg.href.cobrand;if(this.div.promo_a.href.indexOf(this.cfg.prefix.snap)===0){this.div.promo_a.href+=_5a+this.campaign("link");}this.div.search_form.action=this.cfg.prefix.search;this.orientation("bl");this.draw_bubble();},draw_bubble:function(_5b){var i,bg_img;if(_5b==null){var div=this.div;var cfg=this.cfg;}else{var div=this.other_bubbles[_5b];var cfg=this.other_bubbles[_5b].cfg;}if(!this.bubble_drawn){var bg={tl:"tl_br",br:"tl_br",tr:"bl_tr",bl:"bl_tr",t:"tb",b:"tb",l:"lr",r:"lr"};var p=["tr","tl","br","bl"];for(i in bg){if(bg.hasOwnProperty(i)&&bg[i]!==undefined){bg_img=cfg.prefix.bg+"bg_"+bg[i]+".png";if(this.needs_png_fix){div["bg_img_"+i].runtimeStyle.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+bg_img+"',sizingMethod='scale')";}else{if(this.isSafari){div["bg_img_"+i].src=bg_img;}else{div["bg_img_"+i].style.backgroundImage="url("+bg_img+")";div["bg_img_"+i].style.backgroundRepeat="repeat";}}}}for(i=0;i<p.length;i++){bg_img=cfg.prefix.bg+"point_"+p[i]+".png";if(this.needs_png_fix){div["point_"+p[i]].runtimeStyle.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+bg_img+"',sizingMethod='scale')";}else{div["point_"+p[i]].src=bg_img;}}}else{this.bubble_drawn=true;}var w=div.main.style.width.replace(/\D/g,"")-(cfg.css_pos.bg_img_tl.w)-1;var h=div.main.style.height.replace(/\D/g,"")-(cfg.css_pos.bg_img_tl.h)-1;if(this.needs_png_fix||(this.isIE&&document.compatMode&&document.compatMode!="CSS1Compat")){if(h%2==0){h--;}}div.bg_img_t.style.width=w+"px";div.bg_img_b.style.width=w+"px";div.bg_img_l.style.height=h+"px";div.bg_img_r.style.height=h+"px";div.bg_body.style.width=w+"px";div.bg_body.style.height=h+"px";div.bubble.style.height=(div.main.style.height.replace(/\D/g,"")-18)+"px";div.body.style.height=(div.main.style.height.replace(/\D/g,"")-18)+"px";},addMenuEvents:function(div,_64){var _65=this;this.observe(div.option_button,"click",this.option_frame,true,false,_64);this.observe(div.option_button,"mouseover",this.handleMenuRoll,"option_button",true,_64);this.observe(div.option_button,"mouseout",this.handleMenuRoll,"option_button",false,_64);this.observe(div.option_a,"click",this.option_frame,true,false,_64);this.observe(div.option_a,"mouseover",this.handleMenuRoll,"option_a",true,_64);this.observe(div.option_a,"mouseout",this.handleMenuRoll,"option_a",false,_64);this.observe(div.disable_a,"click",this.option_frame,true,true,_64);this.observe(div.disable_a,"mouseover",this.handleMenuRoll,"disable_a",true,_64);this.observe(div.disable_a,"mouseout",this.handleMenuRoll,"disable_a",false,_64);this.observe(div.zoom_img,"click",function(e){if(!_65.no_opt_menu){_65.resize(null,_64);}});this.observe(div.zoom_img,"mouseover",this.handleMenuRoll,"zoom_img",true,_64);this.observe(div.zoom_img,"mouseout",this.handleMenuRoll,"zoom_img",false,_64);this.observe(div.option_close_a,"click",this.destroy_bubble,_64);this.observe(div.option_close_a,"mouseover",this.handleMenuRoll,"option_close_a",true,_64);this.observe(div.option_close_a,"mouseout",this.handleMenuRoll,"option_close_a",false,_64);this.observe(div.option_cancel,"click",this.option_frame,false,false,_64);this.observe(div.preview_toggle,"click",this.rss_toggle,"preview",_64);this.observe(div.preview_toggle,"mouseover",this.handleMenuRoll,"preview_toggle",true,_64);this.observe(div.preview_toggle,"mouseout",this.handleMenuRoll,"preview_toggle",false,_64);this.observe(div.rss_toggle,"click",this.rss_toggle,"rss",_64);this.observe(div.rss_toggle,"mouseover",this.handleMenuRoll,"rss_toggle",true,_64);this.observe(div.rss_toggle,"mouseout",this.handleMenuRoll,"rss_toggle",false,_64);},rss_toggle:function(ev,_68,_69){if(_69==null){var div=this.div;}else{var div=this.other_bubbles[_69];}if(ev!=null&&this.current_rss!=_68){this.logFeatureClick("shot_default_view_toggle_"+_68);}if(_68=="preview"){this.current_rss="preview";this.changePaletteImg("preview_toggle","preview_toggle_selected",_69);this.changePaletteImg("rss_toggle","rss_toggle",_69);this.shot_type="preview";if(ev!=null&&!this.preview_viewed){this.cfg.shot_check=0;this.preview_viewed=true;var _6b=this.shot_data;this.view.id=this.rand_hash(this.shot_data.url);this.view.time=this.now();var _6c=this.shot_base;if(_6b.url==""&&_6b.svc&&_6b.svc.indexOf("Snap_Shot_RSS")!=-1){_6b.url=_6b.tag;_6b.redir_url=_6b.url;_6c=_6c.replace("url=&","url="+_6b.url+"&");this.update_preview_links(_6b);}shot_url=_6c+"&view_id="+this.view.id+"&goto="+encodeURIComponent(this.cfg.text.GoToURL);div.preview_img.src=this.cfg.prefix.preview+"preview"+shot_url+"&direct=1&sc=0";}this.raise_shot("preview",_69);}else{this.current_rss="rss";this.changePaletteImg("preview_toggle","preview_toggle",_69);this.changePaletteImg("rss_toggle","rss_toggle_selected",_69);if(ev!=null&&!this.iframe_viewed){this.cfg.shot_check=1;this.iframe_viewed=true;var _6b=this.shot_data;var _6d=this.cfg.prefix.preview+"shot"+this.shot_base+"&w="+this.cfg.css_pos.preview_div.w+"&h="+this.cfg.css_pos.preview_div.h+"&target="+_6b.target+"&tag="+encodeURIComponent(_6b.tag)+"&goto="+encodeURIComponent(this.cfg.text.GoToURL)+"&sc=0";var _6e="#rt"+this.now();this.setPreviewIframeSrc(_6d+_6e,_69);}this.raise_shot("iframe",_69);}},hideTopLeftMenu:function(_6f){if(_6f==null){var div=this.div;}else{var div=this.other_bubbles[_6f];}div.top_left_menu.style.visibility="hidden";div.url_favicon.style.display="";},showTopLeftMenu:function(_71){if(_71==null){var div=this.div;}else{var div=this.other_bubbles[_71];}div.top_left_menu.style.visibility="";div.url_favicon.style.display="none";},resize:function(_73,_74){var i,len,p,mult,o,shot;if(_74==null){var div=this.div;var cfg=this.cfg;var _78=this.current_element;var _79=this.current_orientation;}else{var div=this.other_bubbles[_74];var cfg=this.other_bubbles[_74].cfg;var _78=this.other_bubbles[_74].current_element;var _79=this.other_bubbles[_74].current_orientation;}if(_73==null&&this.isIE&&window.event){var _7a;var e=window.event;if(e.target){_7a=e.target;}else{if(e.srcElement){_7a=e.srcElement;}}if(div.zoom_img!==_7a){return;}}var x=div.main.style.left.replace(/[^-\d]/g,""),y=div.main.style.top.replace(/[^-\d]/g,"");div.main.style.visibility="hidden";if(_73===undefined||_73===null){cfg.size=(cfg.size=="large")?"small":"large";}else{if(cfg.size==_73){return;}else{cfg.size=_73;}}mult=(cfg.size=="large")?1:-1;len=cfg.resize.w_list.length;for(i=0;i<len;i++){cfg.css_pos[cfg.resize.w_list[i]].w+=(mult*cfg.resize.w);}len=cfg.resize.h_list.length;for(i=0;i<len;i++){cfg.css_pos[cfg.resize.h_list[i]].h+=(mult*cfg.resize.h);}this.set_css(_74);o=_79;if(o.substr(0,1)=="b"){y-=(mult*cfg.resize.h);}if(o.substr(0,1)=="r"){x-=(mult*cfg.resize.w);}this.move(x,y,_74);this.draw_bubble(_74);this.orientation(o,false,_74);this.show_shot(this.get_shot_data(_78),_74,true);if(cfg.size=="small"){shot=this;shot.long_delay=true;this.later(200,function(){shot.long_delay=false;});}div.main.style.visibility="visible";},option_frame:function(ev,_7e,_7f,_80){var url;var _82=this;if(_80==null){var div=this.div;}else{var div=this.other_bubbles[_80];}if(!this.no_opt_menu){div.option_close_a.style.display=(_80===undefined)?"none":"";div.body.style.visibility=_7e?"hidden":"";div.options.style.visibility=_7e?"":"hidden";if(_7e){url=this.opt_url+"&url="+this.current_url+(_7f?"&hl=disable":"")+"&size="+this.cfg.size+"&js_src="+encodeURIComponent(this.get_js_src())+(this.shot_type?"&shot_type="+this.shot_type:"");div.option_iframe.src="about:blank";this.sto(function(){div.option_iframe.src=url;},0);}}ev.returnValue=false;if(ev.preventDefault){ev.preventDefault();}return false;},get_js_src:function(){var i,len,src=null;var _85=/\/(snap_preview_anywhere|snap_shots).js/;var _86=document.getElementsByTagName("script");len=_86.length;for(i=0;i<len;i++){if(_86[i].src.search(_85)!=-1){if(!src||(src&&_86[i].src.search(/plugin=1/))){src=_86[i].src;}}}return src;},raise_loading_img:function(){this.div.loading_img.style.zIndex=Number(this.div.preview_img.style.zIndex)+10;this.div.loading_img.style.display="inline";},lower_loading_img:function(ev,_88){if(_88=="iframe"&&this.shot_trigger_is_preview){return;}this.div.loading_img.style.zIndex=Number(this.div.preview_img.style.zIndex)-10;this.div.loading_img.style.display="none";},move:function(x,y,_8b){if(_8b==null){var div=this.div;var cfg=this.cfg;}else{var div=this.other_bubbles[_8b];var cfg=this.other_bubbles[_8b].cfg;}div.main.style.left=x+"px";div.main.style.top=y+"px";},get_activated_element:function(ev){var i,element;if(ev.srcElement){element=ev.srcElement;}else{if(ev.target){element=ev.target;}}for(var i=0;(i<5)&&element;i++){if(this.el_prop(element,"activated")){return element;}try{element=element.parentNode;}catch(e){}}return null;},hide_delay:function(ev,_91){if((ev!==null&&!this.get_activated_element(ev))){return;}if(this.long_delay){_91=1500;this.long_delay=false;}this.clear_timer("show");this.timer_id.show=this.later(_91,this.hide);},hide:function(_92){this.raise_loading_img();if(!_92&&this.div.main.style.visibility!="hidden"){this.confirm_shot_load("pf");}this.div.main.style.visibility="hidden";if(this.isSafari){if(this.div.preview){this.later(0,function(){this.div.preview.src="about:blank";});}if(this.div.spasense_iframe){this.later(0,function(){this.div.spasense_iframe.src="about:blank";});}}else{if(this.div.preview.contentWindow){this.div.preview.contentWindow.location.replace("about:blank");}if(this.div.spasense_iframe.contentWindow){this.div.spasense_iframe.contentWindow.location.replace("about:blank");}}if(this.div.spasense_iframe.style.visibility!="hidden"){this.div.spasense_iframe.style.visibility="";}},show_delay:function(ev,_94,_95){if(typeof SNAP_COM!="undefined"&&SNAP_COM.clientActive&&!this.cfg.plugin){if(this.div.main&&this.div.main.parentNode){this.unobserve_all();this.div.main.parentNode.removeChild(this.div.main);}return;}var _96=null;var ex,ey,offset,shot;var _98=this.get_activated_element(ev);if(this.disabled||!_98){return;}this.clear_timer("show");var _99=this.getViewportWidth();var _9a=this.getViewportHeight();var _9b=ev.clientX;var _9c=ev.clientY;var _9d;if((/Safari|Konqueror|KHTML/gi).test(navigator.userAgent)){var _9b=ev.pageX-window.pageXOffset;var _9c=ev.pageY-window.pageYOffset;}_9d=(_9c>(_9a/2))?"b":"t";_9d+=(_9b>(_99/2))?"r":"l";var _9e=this.cfg.css_pos.main.h-30;if(_9c<_9e&&_9d.substr(0,1)==="b"&&(_9a-_9c)>(_9e*1/2)){_9d="t"+_9d.substr(1,1);}_96=this.el_prop(_98,"shot_parent")||_98;if(!this.el_prop(_96,"markup")&&!this.is_valid_link(_96)){return;}if(this.div.main.style.visibility=="visible"){if(this.current_element!=_96){_94=_95;}else{return;}}this.timer_id.show=this.later(_94,this.show,_98,_9d);},show:function(_9f,_a0){var ex;var ey;if((this.cfg.trigger_position=="icon")&&this.el_prop(_9f,"link_icon")){offset=this.getXY(this.el_prop(_9f,"link_icon")||_9f);ex=offset[0];ey=offset[1];}else{ex=this.current_ex;ey=this.current_ey;}var _a3=this.get_shot_data(_9f);if(this.other_bubbles){for(var i=0;i<this.other_bubbles.length;i++){if((_a3.url==this.other_bubbles[i].current_url&&_a3.svc=="")||(_a3.svc!=""&&_a3.tag==this.other_bubbles[i].current_tag)){return;}}}if(!this.cfg.image_trigger){var url=_a3.url;var m=url.match(/\w+:\/\/([^#]*)/);if(m&&m[1].match(this.photo_shot_re)){var _a7=0,shot=this,imgs=_a3.element.getElementsByTagName("img");for(var i=0;i<imgs.length;i++){if(!this.el_prop(imgs[i],"is_link_icon")){_a7=1;break;}}if(_a7){return;}}}this.div.body.style.display="inline";this.div.body.style.visibility="";this.div.options.style.visibility="hidden";if(!_a0){_a0=this.current_orientation;}if(this.cfg.size!=this.cfg.orig_size){this.resize(this.cfg.orig_size);}this.orientation(_a0);this.div.box.value=this.cfg.text.SearchTheWeb;this.div.box.blur();try{this.div.spasense_iframe.contentWindow.location.replace("about:blank");}catch(e){this.div.spasense_iframe.src="about:blank";}this.later(0,this.show_part2,_a3,ex,ey,_a0,_9f);},show_part2:function(_a8,ex,ey,_ab,_ac){var _ad=((this.cfg.trigger_position=="icon")&&this.el_prop(_ac,"link_icon"));this.show_shot(_a8);if(_ab.substr(0,1)=="b"){ey=ey-this.div.main.offsetHeight+(_ad?-30:-35);}else{ey+=(_ad?55:40);}if(_ab.substr(1,1)=="r"){ex=ex-this.div.main.offsetWidth+(_ad?20:12);}else{ex=ex-5;}this.move(ex,ey);this.current_element=_a8.element;this.div.main.style.visibility="visible";},orientation:function(_ae,_af,_b0){var div,i,w_step,h_step,x_step,ps,tb,lr,po,y0,x0,h=1;var p=this.cfg.pointer;var _b3,o=["tl","tr","bl","br"];if(_b0==null){div=this.div;}else{div=this.other_bubbles[_b0];}_af=false;tb=(_ae.substr(0,1)=="t")?"top":"bottom";lr=(_ae.substr(1,1)=="l")?"left":"right";if(this.needs_png_fix||(this.isIE&&document.compatMode&&document.compatMode!="CSS1Compat")){po=1;}else{po=0;}for(i=0;i<o.length;i++){div["point_"+o[i]].style.top="60px";div["point_"+o[i]].style.left="60px";div["point_"+o[i]].style.bottom="auto";div["point_"+o[i]].style.right="auto";}if(_ae!="pin"){_b3=div["point_"+_ae];y0=div.main.style.height.replace(/\D/g,"")-p[tb].y-po;if(tb=="top"){_b3.style.top="auto";_b3.style.bottom=y0+"px";}else{_b3.style.bottom="auto";_b3.style.top=y0+"px";}if(lr=="left"){_b3.style.right="auto";_b3.style.left=p[tb].x+"px";}else{_b3.style.left="auto";_b3.style.right=p[tb].x+p.r_offset+"px";}y0-=1;h=this.cfg.css_pos["point_"+_ae].h+2;}x_step=(p.x-p.x0)/(p.steps-1);w_step=(p.w-p.w0)/(p.steps-1);h_step=h/p.steps;x0=p.x+(lr=="right"?p.r_offset:0);tb=(tb=="top"?"bottom":"top");for(i=0;i<p.steps;i++){ps=div["pointer"+i].style;ps.left="auto";ps.right="auto";ps.top="auto";ps.bottom="auto";if(_ae=="pin"){ps.visibility="hidden";ps.top="50px";ps.left="50px";ps.width="0px";ps.height="0px";}else{ps.visibility="inherit";ps.width=Math.floor(p.w0+(w_step*i))+"px";ps.height=Math.floor(h_step+1)+"px";ps[tb]=Math.floor(y0+(h_step*i))+"px";ps[lr]=Math.floor(x0-(x_step*i))+"px";}}if(_b0==null){this.current_orientation=_ae;}else{this.other_bubbles[_b0].current_orientation=_ae;}},highlight:function(_b4){this.clear_timer("show");this.orientation(this.current_orientation,_b4);},handleMenuRoll:function(ev,_b6,_b7,_b8){if(_b8==null){var div=this.div;}else{var div=this.other_bubbles[_b8];}if(_b6==this.current_rss+"_toggle"){return;}if(div[_b6].tagName.toLowerCase()=="img"||_b6=="option_close_a"){var _ba=_b6;if(_b6=="zoom_img"){_ba=(this.cfg.size=="large")?"zoom_img_minus":"zoom_img_plus";}if(_b7){_ba+="_over";}this.changePaletteImg(_b6,_ba,_b8);if(_b6=="option_button"){if(_b7){this.clear_timer("hideOptionMenu"+_b8);this.timer_id["showOptionMenu"+_b8]=this.later(250,this.showOptionMenu,_b8);}else{this.clear_timer("showOptionMenu"+_b8);this.timer_id["hideOptionMenu"+_b8]=this.later(250,this.hideOptionMenu,_b8);}}}else{var s=div[_b6].style;if(_b7){s.backgroundColor="#d9d9d9";}else{s.backgroundColor="white";}if(_b6=="option_a"||_b6=="disable_a"){if(_b7){this.clear_timer("hideOptionMenu"+_b8);}else{this.timer_id["hideOptionMenu"+_b8]=this.later(250,this.hideOptionMenu,_b8);}}}},showOptionMenu:function(_bc){if(_bc==null){var div=this.div;}else{var div=this.other_bubbles[_bc];}div.option_menu.style.visibility="";if(this.isIE&&document.compatMode&&document.compatMode!="CSS1Compat"){var _be=this.getWidth(div.option_a);var _bf=this.getWidth(div.disable_a);if(_be>_bf){div.disable_a.style.width=_be;}else{if(_bf>_be){div.option_a.style.width=_bf;}}}},hideOptionMenu:function(_c0){if(_c0==null){var div=this.div;}else{var div=this.other_bubbles[_c0];}div.option_menu.style.visibility="hidden";},changePaletteImg:function(_c2,_c3,_c4){if(_c4==null){var div=this.div;}else{var div=this.other_bubbles[_c4];}var cfg=this.cfg;if(cfg.palette[_c3]==null){return;}var s=div[_c2].style;s.backgroundColor="transparent";s.backgroundImage="url("+cfg.img.palette+")";s.backgroundPosition=cfg.palette[_c3].loc;s.backgroundRepeat="no-repeat";s.width=cfg.palette[_c3].w+"px";s.height=cfg.palette[_c3].h+"px";},rand_hash:function(a){var h=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],b=document.location.href,c=[],d=0,i;if(!a){a="";}while(a.length<32){a+=this.now();}while(b.length<32){b+=this.now();}var c=[];for(i=0;i<32;++i){d=a.charCodeAt(i)^b.charCodeAt(i)^(15*Math.random());c[i]=h[d&15];}return c.join("");},raise_shot:function(_cb,_cc){if(_cc==null){var div=this.div;}else{var div=this.other_bubbles[_cc];}var _ce="hidden",iframe="";if(_cb=="preview"){_ce="";iframe="hidden";}div.preview.style.visibility=iframe;div.preview_img.style.visibility=_ce;div.url_a.style.visibility=_ce;},show_shot:function(_cf,_d0,_d1){var url,fragment,max,shot_url,shot_base,b,bimg,burl,cp,rand_rate,is_custom_shot=false;if(_d0==null){var div=this.div;var cfg=this.cfg;}else{var div=this.other_bubbles[_d0];var cfg=this.other_bubbles[_d0].cfg;}var _d5=0,shot=this,imgs=_cf.element.getElementsByTagName("img");for(var i=0;i<imgs.length;i++){if(!this.el_prop(imgs[i],"is_link_icon")){_d5=1;break;}}this.current_url=_cf.url;this.current_tag=_cf.tag;this.shot_type="";this.raise_loading_img();var _d7=div.preview_img.src;this.current_rss=null;this.hideTopLeftMenu(_d0);var _d8=false;var _d9=false;rand_rate=Math.random();if(_cf.svc&&_cf.svc.toLowerCase().indexOf("snap_shot_custom")!==-1){is_custom_shot=true;}if((_cf.redir_url&&_cf.redir_url.match(/amazon.com/))||is_custom_shot){_d9=true;}if(!_d9&&cfg.banner.survey&&cfg.banner.survey.rate&&cfg.lang=="en-us"&&(cfg.search_box==true)&&(cfg.banner.survey.rate>rand_rate)){_d8=true;cp="shot_banner_survey";bimg=cfg.banner.survey.img.replace(/#SIZE#/,cfg.size);burl=cfg.banner.survey.url;}else{if(!_d9&&cfg.banner.addon&&cfg.banner.addon.rate&&(this.isFirefox||this.isIE)&&!SNAP_COM.clientActive&&(cfg.search_box==true)&&(cfg.banner.addon.rate>=rand_rate)){_d8=true;if(this.isFirefox){b="ff";cp="banner_"+cfg.banner.addon.id.ff;}else{b="ie";cp="banner_ie_"+cfg.banner.addon.id.ie;}bimg=cfg.banner.addon.img.replace(/#SIZE#/,cfg.size).replace(/#IMG#/,(b+"ao"+cfg.banner.addon.id[b]+".gif"));burl=cfg.banner.addon.url+"?source="+encodeURIComponent(cfg.source)+"&campaign="+this.campaign(cp);}else{if(!_d9&&cfg.banner.pluginOn&&cfg.banner.pluginOn.rate&&SNAP_COM.clientActive&&(cfg.search_box==true)&&(cfg.banner.pluginOn.rate>=rand_rate)){_d8=true;cp="banner_plugin_"+cfg.banner.pluginOn.id;bimg=cfg.banner.pluginOn.img.replace(/#SIZE#/,cfg.size).replace(/#IMG#/,("addon-"+cfg.banner.pluginOn.id+".gif"));burl=cfg.prefix.preview+"redirect.php"+"?url="+cfg.banner.pluginOn.url+"&src="+encodeURIComponent(cfg.source)+"&cp="+this.campaign(cp)+"&key="+cfg.key+"&tol=banner&pv=1";}}}if(_d8){div.banner.href=burl;div.banner.style.backgroundImage="url("+bimg+")";div.banner.style.visibility="";}else{div.banner.style.visibility="hidden";}var _da=this.rand_hash(_cf.url+_cf.svc+_cf.tag);if(_d1){_da="nolog";}shot_base="/?url="+encodeURIComponent(_cf.redir_url)+"&key="+cfg.key+"&src="+encodeURIComponent(cfg.source)+"&cp="+cfg.campaign+"&sb="+(cfg.search_box?"1":"0")+"&v="+cfg.version+"&size="+cfg.size+"&lang="+cfg.lang+"&search_type="+cfg.search_type+"&origin=shots_bubble"+"&act="+_cf.trigger+"&po="+(cfg.preview_only?"1":"0")+"&rp="+encodeURIComponent(cfg.redirect_param)+"&has_img="+_d5+"&ol=0&ex=0"+"&ad="+(_d8?cp:"")+"&ip="+cfg.client_ip+"&ua="+cfg.user_agent+"&vid="+_da+"&nl="+(_d1?"1":"0")+"&referrer="+encodeURIComponent(location.href)+"&svc="+encodeURIComponent(_cf.svc);this.shot_base=shot_base;this.pin_check(_cf);this.preview_viewed=false;this.iframe_viewed=false;if(_cf.is_preview){this.shot_type="preview";this.view.id=this.rand_hash(_cf.url);this.view.time=this.now();shot_url=shot_base+"&view_id="+this.view.id+"&goto="+encodeURIComponent(cfg.text.GoToURL);this.raise_shot("preview",_d0);this.clear_timer("retry");if(this.retry_url_list[_cf.url]){div.preview_img.src=this.retry_url_list[_cf.url];}else{if(cfg.shot_check==0){this.preview_viewed=true;div.preview_img.src=cfg.prefix.preview+"preview"+shot_url+"&direct=1&sc=0";}else{div.preview_img.src=cfg.prefix.cdn_image+"t.gif";}}div.rss_check.src=cfg.prefix.preview+"preview"+shot_url+"&sc=1&nl=1&rss=1";this.update_preview_links(_cf,_d0);}this.shot_data=_cf;if(!_cf.is_preview||cfg.shot_check==1){if(!_cf.is_preview){this.raise_shot("iframe",_d0);}if(_cf.svc&&_cf.svc.indexOf("Snap_Shot_IFrame")!=-1){shot_url=_cf.tag;if(_cf.svc.indexOf("IFrameSized")!=-1){shot_url=shot_url+"?w="+cfg.css_pos.preview_div.w+"&h="+cfg.css_pos.preview_div.h;}}else{shot_url=cfg.prefix.preview+"shot"+shot_base+"&w="+cfg.css_pos.preview_div.w+"&h="+cfg.css_pos.preview_div.h+"&target="+_cf.target+"&tag="+encodeURIComponent(_cf.tag)+"&goto="+encodeURIComponent(cfg.text.GoToURL)+(_d1?"&log=0":"")+"&sc="+(_cf.is_preview?"1":"0");}if(_cf.auto){shot_url+="&as=1"+"&asp="+encodeURIComponent(_cf.auto.pattern)+"&aseid="+encodeURIComponent(_cf.auto.eid)+"&astid="+encodeURIComponent(_cf.auto.tid);}fragment="#rt"+this.now();if(_d0!==undefined&&_d0!==null){fragment+="#autoplay";}this.iframe_viewed=true;this.setPreviewIframeSrc(shot_url+fragment,_d0);if(_d7==div.preview_img.src){this.lower_loading_img();}if(_cf.svc&&_cf.svc.indexOf("Snap_Shot_RSS")!=-1){this.showTopLeftMenu(_d0);this.rss_toggle(null,"rss",_d0);}}this.shot_trigger_is_preview=_cf.is_preview;this.shot_url=shot_url;var _db=cfg.prefix.spasense+"rk.php?key="+cfg.key+"&lang="+cfg.lang+"&th="+cfg.theme+"&rtl="+cfg.rtl+"&url="+encodeURIComponent(_cf.url)+"&html="+encodeURIComponent(_cf.element.innerHTML.substr(0,500))+"&cp="+this.campaign("spasense")+"&s="+cfg.size+"&svc="+encodeURIComponent(_cf.svc)+"&tag="+encodeURIComponent(_cf.tag)+"&src="+encodeURIComponent(cfg.source);if(is_custom_shot&&cfg.search_box==true){var _dc=80-cfg.css_pos.spasense_iframe.h;var _dd=(cfg.css_pos.main.h+_dc);if(_dd!=div.main.offsetHeight){div.main.style.height=_dd+"px";div.spasense_iframe.style.height=80+"px";this.draw_bubble(_d0);this.orientation(this.current_orientation,_d0);}_db=shot_url;_db=_db.replace("&size=large&","&size=bottom_large&");_db=_db.replace("&size=small&","&size=bottom_small&");this.spasense_url=_db;if(div.spasense_iframe.src!=_db){try{div.spasense_iframe.contentWindow.location.replace(_db);}catch(e){div.spasense_iframe.src=_db;}}div.spasense_iframe.style.visibility="";div.banner.style.visibility="hidden";}else{div.main.style.height=cfg.css_pos.main.h+"px";div.spasense_iframe.style.height=cfg.css_pos["spasense_iframe"].h+"px";this.draw_bubble();if(cfg.search_type=="spasense"&&cfg.search_box==true&&!_d8){this.spasense_url=_db;if(div.spasense_iframe.src!=_db){try{div.spasense_iframe.contentWindow.location.replace(_db);}catch(e){div.spasense_iframe.src=_db;}}}else{this.spasense_url="about:blank";if(div.spasense_iframe.src!="about:blank"){try{div.spasense_iframe.contentWindow.location.replace("about:blank");}catch(e){div.spasense_iframe.src="about:blank";}}div.spasense_iframe.style.visibility="hidden";}}},update_preview_links:function(_de,_df){var max,url;if(_df==null){var div=this.div;var cfg=this.cfg;}else{var div=this.other_bubbles[_df];var cfg=this.other_bubbles[_df].cfg;}url=_de.redir_url.replace(/\w+:\/\/(www\.)?/,"");url=url.replace(/^([-\w.]*)\/$/,"$1");max=cfg.url_max?cfg.url_max:50;if(url.length>max){url=url.substr(0,max)+"...";}div.url.innerHTML=url;div.url_a.href=_de.url;div.url_favicon.href=_de.url;div.url_arrow.href=_de.url;div.img_a.href=_de.url;div.url_a.target=_de.target;div.url_favicon.target=_de.target;div.url_arrow.target=_de.target;div.img_a.target=_de.target;div.url_a.title=cfg.text.GoToURL.replace(/%URL/,url);div.url_favicon.title=cfg.text.GoToURL.replace(/%URL/,url);div.url_arrow.title=cfg.text.GoToURL.replace(/%URL/,url);div.img_a.title=div.url_a.title;},is_preview_url:function(url){if(this.cfg.rich_shot_exceptions!=""){if(url.match(this.rich_shot_exceptions_re)){return true;}}var m=url.match(/\w+:\/\/([^#]*)/);if(m&&m[1].match(this.preview_re)){return false;}return true;},get_inner_text:function(el,_e6){var _e7="";if(el.innerText!==undefined){_e7=el.innerText;}else{if(el.textContent!==undefined){_e7=el.textContent;}}if(_e6===undefined){return this.trim(_e7).substr(0);}else{return this.trim(_e7).substr(0,_e6);}},get_shot_data:function(el){var i,j,m,els;var _ea;var key,val;var _ec=[];var _ed={"svc":"","tag":"","url":"","target":"","element":el,"trigger":"","auto":false};if(this.el_prop(el,"is_link_icon")){_ed.trigger="icon";}else{_ed.trigger="link";}el=this.el_prop(el,"shot_parent")||el;_ed.element=el;_ed.trigger=(this.el_prop(el,"trigger")=="both"?"both":"only")+"_"+_ed.trigger;if(el.href!==undefined){_ed.url=el.href;_ed.target=el.target;}if(typeof SNAP_COM!="undefined"&&SNAP_COM.translateURL){if(_ed.target.toLowerCase()=="_search"){_ed.target="_SELF";}_ed.url=SNAP_COM.translateURL(_ed.url);_ed.redir_url=_ed.url;}if(this.cfg.redirect_param){regexS="[\\?&]"+this.cfg.redirect_param+"=([^&#]*)";regex=new RegExp(regexS);m=_ed.url.match(regex);if(m){_ed.redir_url=decodeURIComponent(m[1]);}else{_ed.redir_url=_ed.url;}}else{_ed.redir_url=_ed.url;}if((el.innerText!==undefined)&&el.innerText.length){_ed.tag=this.trim(el.innerText).substr(0,500).replace(String.fromCharCode(164),"&curren");}else{if(el.textContent!==undefined){_ed.tag=this.trim(el.textContent).substr(0,500);}else{_ed.tag=this.trim(el.innerHTML).substr(0,500);}}if(this.el_prop(el,"markup")){_ec.push(encodeURIComponent(el.className.match(/\bsnap_shots?_\S+/ig).join("|")));_ea=el.firstChild;while(_ea){if(_ea.tagName){m=_ea.className.match(/\bsnap_shots?_\S+/ig);if(m){key=encodeURIComponent(m.join("|"));val=encodeURIComponent(this.get_inner_text(_ea,500));_ec.push(key+"="+val);}}_ea=_ea.nextSibling;}_ed.svc=_ec.join("&");}else{_ed.is_preview=this.is_preview_url(_ed.redir_url);}if(this.el_prop(el,"auto")){_ed.auto=this.el_prop(el,"autoshot_data");}return _ed;},confirm_shot_load:function(_ee){if(this.view.id){this.div.arrow.src=this.cfg.prefix.image+"snip/arrow-contd/"+this.view.id+"/d/"+_ee+"/p"+(this.now()-this.view.time)+"/arrow/";}this.view.id=null;},rss_check_loaded:function(ev,_f0){if(_f0==null){var div=this.div;}else{var div=this.other_bubbles[_f0];}if(ev.currentTarget){var pi=ev.currentTarget;}else{var pi=ev.srcElement;}if(pi.height==3&&pi.width==6){this.showTopLeftMenu(_f0);if(this.cfg.shot_check==1){this.rss_toggle(null,"rss",_f0);this.lower_loading_img();this.raise_shot("iframe",_f0);if(this.isSafari){this.later(300,this.lower_loading_img);}}else{this.rss_toggle(null,"preview",_f0);}}else{if(pi.width==1&&pi.height==2&&this.cfg.shot_check==1){this.view.id=this.rand_hash(this.shot_data.url);this.view.time=this.now();var _f3=this.shot_base+"&view_id="+this.view.id+"&goto="+encodeURIComponent(this.cfg.text.GoToURL);div.preview_img.src=this.cfg.prefix.preview+"preview"+_f3+"&direct=1&sc=0";}}},preview_img_loaded:function(ev){if(ev.currentTarget){var pi=ev.currentTarget;}else{var pi=ev.srcElement;}if(pi.height==3&&pi.width==6){this.lower_loading_img();this.raise_shot("iframe");if(this.isSafari){this.later(300,this.lower_loading_img);}}else{if(!pi.src.match(/\/t.gif/)){this.lower_loading_img();}if(pi.height>1&&pi.width>1&&pi.src.indexOf("&vid=nolog")==-1){this.confirm_shot_load("ps");}if(this.div.preview_img.width==274||this.div.preview_img.width==431){var _f6=1;var url=this.div.preview_img.src;var _f8=/retry=(\d+)/;var _f9=url.match(_f8);if(_f9){_f6=Number(_f9[1])+1;url=url.replace(_f8,"retry="+_f6);}else{url+="&retry="+_f6;}if(_f6>this.cfg.retry_interval.length){return;}if(_f6==this.cfg.retry_interval.length){url+="&final=1";}var _fa=this;var _fb=this.cfg.retry_interval[_f6-1];if(this.retry_url_list[this.div.url_a.href]!=url){this.retry_url_list[this.div.url_a.href]=url;if(this.div.main.style.visibility=="visible"){this.clear_timer("retry");this.timer_id.retry=this.sto(function(){_fa.div.preview_img.src=url;},_fb);}}}}},link_click:function(ev){var _fd;var rw=false;switch(ev.type){case "mouseup":var b=0;if(typeof (ev.which)=="number"){b=ev.which;}else{if(typeof (ev.button)=="number"){b=ev.button;}}if((this.isIE&&b==4)||(!this.isIE&&b==2)){rw=true;}break;case "click":rw=true;break;}if(rw){var _100=this.cfg.prefix.preview+"explore/"+Math.floor((Math.random()*100000))+"/?url="+encodeURIComponent(this.current_url)+"&key="+this.cfg.key+"&src="+encodeURIComponent(this.cfg.source)+"&cp="+this.cfg.campaign;this.div.url_a.href=_100+"&tol=url";this.div.url_favicon.href=_100+"&tol=url_favicon";this.div.url_arrow.href=_100+"&tol=url_arrow";this.div.img_a.href=_100+"&tol=image";_fd=this;this.sto(function(){_fd.div.url_a.href=_fd.current_url;_fd.div.url_favicon.href=_fd.current_url;_fd.div.url_arrow.href=_fd.current_url;_fd.div.img_a.href=_fd.current_url;},0);}},sample:function(){var i,n,as,rates=[],as_data=[],as_len=this.cfg.auto_shot.list.length;var r=Math.random();if(this.sampled){return;}this.sampled=true;if(this.cfg.srate){if(this.cfg.srate.main>=r){rates.push("m"+this.cfg.srate.main);}if(this.cfg.auto_shot.list.length&&(this.cfg.srate.auto>=r)){rates.push("a"+this.cfg.srate.auto);}if(this.cfg.auto_shot.inspect){rates.push("i"+this.cfg.srate.inspect);for(i=0;i<as_len;i++){as=this.cfg.auto_shot.list[i];as_data.push([as.eid,as.tid,as.gfound,as.found,as.limit,as.active,as.inspect,as.testset].join(","));}}if(rates.length){n=document.createElement("img");n.src=this.cfg.prefix.image+"spl/l"+this.imp.link+"_i"+this.imp.icon+"_a"+this.imp.auto+"_al"+this.cfg.auto_shot.limit+"/"+rates.join("_")+"/"+this.cfg.key+"/"+"e"+as_data.join(":")+"_t"+this.cfg.auto_shot.timestamp+"/"+this.now()+Math.random()+"/s.gif";n.style.visibility="hidden";n.style.position="absolute";this.div.main.parentNode.insertBefore(n,this.div.main.nextSibling);}}},rollover:function(ev){this.highlight(true);},rollout:function(ev){var _105=ev.relatedTarget||ev.toElement;if(_105==null){return;}if(this.isOpera){var top=this.getTop(this.div.main);var left=this.getLeft(this.div.main);var _108=this.getBottom(this.div.main);var _109=this.getRight(this.div.main);var _10a=ev.pageX||(ev.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft));var _10b=ev.pageY||(ev.clientY+(document.documentElement.scrollTop||document.body.scrollTop));var _10c=(_10a>left&&_10a<_109&&_10b>top&&_10b<_108);if(_10c){return;}}this.highlight(false);this.hide_delay(null,this.cfg.delay.hide);},title_mouseover:function(ev){this.div.url_a.style.color="#009933";},title_mouseout:function(ev){this.div.url_a.style.color="#003399";},pin:function(_10f){if(_10f==null){var div=this.div;}else{var div=this.other_bubbles[_10f];}this.orientation("pin",false,_10f);div.pin_close_img.style.display="inline";},destroy_bubble:function(ev,_112){this.other_bubbles[_112].main.style.display="none";this.other_bubbles[_112].current_url=null;this.other_bubbles[_112].current_tag=null;this.other_bubbles[_112].main.parentNode.removeChild(this.other_bubbles[_112].main);},pin_check:function(_113){this.hideFlashOverlay();this.div.pin_close_img.style.display="none";try{try{var _114=this.current_url.split("//")[1].split("/")[0];var path=this.current_url.split("//")[1].split("/")[1];var tmp=this.current_url.split("?")[0].split(".");var _117=tmp[tmp.length-1];}catch(e){}if((_113.svc&&_113.svc.indexOf("Snap_Shot_")!=-1&&(_113.svc.indexOf("Video")!=-1||_113.svc.indexOf("Audio")!=-1))||(_114.toLowerCase().indexOf("youtube.com")!=-1&&path.indexOf("v")!=-1&&path.indexOf("view_play_list?")==-1)||(_114.toLowerCase().indexOf("video.google.com")!=-1&&path.indexOf("videoplay")!=-1)||(_114.toLowerCase().indexOf("metacafe.com")!=-1&&path.indexOf("watch")!=-1)||(_114.toLowerCase().indexOf("revver.com")!=-1&&path.indexOf("watch")!=-1)||(_114.toLowerCase().indexOf("video.xanga.com")!=-1)||(_114.toLowerCase().indexOf("photobucket.com")!=-1&&this.current_url.indexOf("action=view")!=-1)||(_114.toLowerCase().indexOf("veoh.com")!=-1&&path.indexOf("videos")!=-1)||(_114.toLowerCase().indexOf("vids.myspace.com")!=-1)||_117.toLowerCase()=="mp3"){this.showFlashOverlay();}}catch(e){}},cloneBubble:function(){var shot=this;var node=this.div.main.cloneNode(true);var body=document.getElementsByTagName("body")[0];body.insertBefore(node,this.div.main);var _11b=this.other_bubbles.length;this.other_bubbles[_11b]=new Object();this.other_bubbles[_11b].main=node;this.get_all_shot_nodes(this.other_bubbles[_11b].main,this.other_bubbles[_11b]);this.other_bubbles[_11b].current_url=this.current_url;this.other_bubbles[_11b].current_tag=this.current_tag;this.other_bubbles[_11b].current_element=this.current_element;this.other_bubbles[_11b].current_orientation=this.current_orientation;this.other_bubbles[_11b].cfg=this.cfg;var div=this.other_bubbles[_11b];this.observe(div["submit"],"click",this.form_submit,_11b);this.observe(div["box"],"keydown",this.form_submit,_11b);var box=div["box"];this.observe(box,"focus",function(ev){if(box.value===shot.cfg.text.SearchTheWeb){box.value="";}});this.observe(div.rss_check,"load",this.rss_check_loaded,_11b);var divs=div.main.getElementsByTagName("input");for(var i=0;i<divs.length;i++){if(divs[i].tagName.toLowerCase()=="input"&&divs[i].id.indexOf("box")==-1&&divs[i].id.indexOf("submit")==-1&&divs[i].id.indexOf("cancel")==-1){divs[i].type="hidden";}}if(this.spasense_url&&div.spasense_iframe.src!=this.spasense_url){try{div.spasense_iframe.contentWindow.location.replace(this.spasense_url+"&log=0");}catch(e){div.spasense_iframe.src=this.spasense_url+"&log=0";}}else{div.spasense_iframe.src="about:blank";}div.preview_img.src=this.div.preview_img.src.replace("&nl=0","&nl=1");this.draw_bubble(_11b);div["zoom_img"].bubble_id=_11b;return _11b;},startFlash:function(){if(this.isSafari){this.div.preview.src="about:blank";}this.showDragOverlay();this.div.preview_img.src=this.cfg.prefix.cdn_image+"t.gif";this.div.rss_check.src=this.cfg.prefix.cdn_image+"t.gif";var _121=this.cloneBubble();var div=this.other_bubbles[_121];this.observe(div["drag_overlay"],"mousedown",this.dragStart,_121);this.observe(div["pin_close_img"],"click",this.destroy_bubble,_121);this.observe(div["pin_close_img"],"mouseover",this.handleMenuRoll,"pin_close_img",true,_121);this.observe(div["pin_close_img"],"mouseout",this.handleMenuRoll,"pin_close_img",false,_121);this.addMenuEvents(div,_121);var _123=div["preview"];var _124=this.shot_url;_124=_124.replace(/&vid=[^&]+&/,"&vid=nolog&");_124+="&log=0#autoplay";if(this.isSafari){if(this.div.preview){_123.src="about:blank";this.later(50,function(){_123.src=_124;});if(this.div.spasense_iframe&&this.div.spasense_iframe.src!="about:blank"){this.later(50,function(){div.spasense_iframe.src=this.div.spasense_iframe.src;});}}}else{_123.contentWindow.location.replace(_124);}this.pin(_121);this.hide();},pinAndClone:function(){this.showDragOverlay();var _125=this.cloneBubble();var div=this.other_bubbles[_125];this.observe(div["drag_overlay"],"mousedown",this.dragStart,_125);this.observe(div["pin_close_img"],"click",this.destroy_bubble,_125);this.observe(div["pin_close_img"],"mouseover",this.handleMenuRoll,"pin_close_img",true,_125);this.observe(div["pin_close_img"],"mouseout",this.handleMenuRoll,"pin_close_img",false,_125);this.addMenuEvents(div,_125);this.show_shot(this.get_shot_data(this.other_bubbles[_125].current_element),_125,true);this.pin(_125);this.hide(true);},showFlashOverlay:function(){this.div.flash_overlay.style.display="";this.div.drag_overlay.style.display="";},hideFlashOverlay:function(){this.div.flash_overlay.style.display="none";this.div.drag_overlay.style.display="";},showDragOverlay:function(){this.div.flash_overlay.style.display="none";this.div.drag_overlay.style.display="";},dragStart:function(ev,_128){if(_128==null){var div=this.div;var cfg=this.cfg;}else{var div=this.other_bubbles[_128];var cfg=this.other_bubbles[_128].cfg;}if(_128==null&&this.dragged_bubble!=null){return;}var shot=this;this.drag_state="start";this.dragged_bubble=_128;this.dragStartX=this.pointerX(ev);this.dragStartY=this.pointerY(ev);div.drag_overlay.style.left=(cfg.css_pos.drag_overlay.x-300)+"px";div.drag_overlay.style.top=(cfg.css_pos.drag_overlay.y-300)+"px";div.drag_overlay.style.width=(cfg.css_pos.drag_overlay.w+600)+"px";div.drag_overlay.style.height=(cfg.css_pos.drag_overlay.h+600)+"px";this.orientation("pin",false,_128);},dragMove:function(ev){if(this.dragged_bubble==null){var div=this.div;}else{var div=this.other_bubbles[this.dragged_bubble];}this.current_ex=this.getPageX(ev);this.current_ey=this.getPageY(ev);if(this.isOpera&&div.main.style.visibility=="visible"&&ev.target.tagName.toLowerCase()!="a"&&ev.target.className.indexOf("Snap_Shot_")==-1&&ev.target.className.indexOf("snap_preview_icon")==-1){var top=this.getTop(div.main);var left=this.getLeft(div.main);var _130=this.getBottom(div.main);var _131=this.getRight(div.main);var _132=ev.pageX||(ev.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft));var _133=ev.pageY||(ev.clientY+(document.documentElement.scrollTop||document.body.scrollTop));var _134=(_132>left&&_132<_131&&_133>top&&_133<_130);if(!_134){this.hide_delay(null,this.cfg.delay.hide);}}if(this.drag_state!="start"){return;}var _135=div.main;var x=this.pointerX(ev);var y=this.pointerY(ev);x=x-this.dragStartX;y=y-this.dragStartY;var obx=_135.offsetLeft;var oby=_135.offsetTop;var _13a=obx-0+x;var _13b=oby-0+y;var _13c=-1*div.bubble.offsetLeft;if(_13a<_13c){_13a=_13c;}var _13d=-1*div.bubble.offsetTop;if(_13b<_13d){_13b=_13d;}_135.style.left=_13a+"px";_135.style.top=_13b+"px";if(_13a!=_13c){this.dragStartX=this.pointerX(ev);}if(_13b!=_13d){this.dragStartY=this.pointerY(ev);}if(!ev){var ev=window.event;}ev.cancelBubble=true;if(ev.stopPropagation){ev.stopPropagation();}},dragStop:function(ev){if(this.drag_state!="start"){return;}this.drag_state="off";if(this.dragged_bubble==null){var div=this.div;var cfg=this.cfg;}else{var div=this.other_bubbles[this.dragged_bubble];var cfg=this.other_bubbles[this.dragged_bubble].cfg;}div.drag_overlay.style.left=cfg.css_pos.drag_overlay.x+"px";div.drag_overlay.style.top=cfg.css_pos.drag_overlay.y+"px";div.drag_overlay.style.width=cfg.css_pos.drag_overlay.w+"px";div.drag_overlay.style.height=cfg.css_pos.drag_overlay.h+"px";if(this.dragged_bubble==null){div.preview_img.src=cfg.prefix.cdn_image+"t.gif";div.rss_check.src=cfg.prefix.cdn_image+"t.gif";if(this.isSafari){div.preview.src="about:blank";}this.pinAndClone();}this.dragged_bubble=null;},pointerX:function(_141){return _141.pageX||(_141.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft));},pointerY:function(_142){return _142.pageY||(_142.clientY+(document.documentElement.scrollTop||document.body.scrollTop));},form_submit:function(ev,_144){if(_144==null){var div=this.div;}else{var div=this.other_bubbles[_144];}var _146=false;var _147="bsb";if(div.box.value===this.cfg.text.SearchTheWeb){_147=this.campaign("defaulttext");if(this.cfg.search_type!="adult"){_146=true;}}else{if(div.box.value===""){_147=this.campaign("emptybox");_146=true;}else{_147=this.campaign("bsb");}}var _148=this.cfg.prefix.search+"?source="+encodeURIComponent(this.cfg.source)+"&campaign="+_147;if(_146){if(this.cfg.search_type=="image"){_148+="&query=sunflower";}}else{_148+="&query="+encodeURIComponent(div.box.value);_148+="&spa_key="+encodeURIComponent(this.cfg.key);if(this.cfg.search_type=="adult"){_148+="&spa_adult=1";}}var tg=(window.event)?ev.srcElement:ev.target;if(tg==div.box){var _14a=ev.keyCode;if(_14a==13){ev.returnValue=false;if(ev.preventDefault){ev.preventDefault();}location.href=_148;}return;}else{if(tg==div.submit){window.open(_148,"_blank");ev.returnValue=false;if(ev.preventDefault){ev.preventDefault();}return false;}}},sendPrecrawlList:function(){var _14b="?key="+this.cfg.key;for(var i=this.num_precrawl_sent;i<this.thumbnail_precrawl_list.length;i++){_14b+="&";var url=this.thumbnail_precrawl_list[i];if(typeof SNAP_COM!="undefined"&&SNAP_COM.translateURL){url=SNAP_COM.translateURL(url);}if((_14b.length+url.length)>1800){break;}_14b+="url"+(i+1)+"="+encodeURIComponent(url);}this.num_precrawl_sent=i;_14b+="&url_count="+this.thumbnail_precrawl_list.length;this.div.lg.src=this.cfg.prefix.preview+"thumbnail_precrawl.php"+_14b;if(this.num_precrawl_sent!=this.thumbnail_precrawl_list.length){this.later(1000,this.sendPrecrawlList);}},logFeatureClick:function(_14e){this.div.lg.src=this.cfg.prefix.preview+"halo_proxy.php?feature_type="+_14e+"&img=1&r="+this.now();},setPreviewIframeSrc:function(_14f,_150){if(_150==null){var div=this.div;}else{var div=this.other_bubbles[_150];}if(this.isSafari){if(div.preview){this.later(50,function(){div.preview.src=(_14f);});if(this.shot_data&&!this.shot_data.is_preview){this.later(300,this.lower_loading_img);}}}else{if(div.preview.contentWindow){div.preview.contentWindow.location.replace(_14f);}}},sto:function(func,_153){if(this.cfg.flavor=="xanga"){if(window.restrictedSetTimeout){return window.restrictedSetTimeout(func,_153);}else{return window.setTimeout(func,_153);}}else{return window.setTimeout(func,_153);}},needs_png_fix:(navigator.userAgent.match(/msie (5\.5|6)/i)&&navigator.platform=="Win32"),isFirefox:(navigator.userAgent.match(/firefox/i)),isSafari:(/Safari|Konqueror|KHTML/gi).test(navigator.userAgent),isIE:(!this.isSafari&&!navigator.userAgent.match(/opera/gi)&&navigator.userAgent.match(/msie/gi)),isOpera:(navigator.userAgent.match(/Opera/gi)),getXY:function(el){var _155=null;var pos=[];var box,st,sl;if(el.getBoundingClientRect){box=el.getBoundingClientRect();st=Math.max(document.documentElement.scrollTop,document.body.scrollTop);sl=Math.max(document.documentElement.scrollLeft,document.body.scrollLeft);return [box.left+sl,box.top+st];}else{pos=[el.offsetLeft,el.offsetTop];_155=el.offsetParent;var _158=(this.getStyle(el,"position")=="absolute");if(_155!=el){while(_155){pos[0]+=_155.offsetLeft;pos[1]+=_155.offsetTop;if(this.isSafari&&!_158&&(this.getStyle(_155,"position")=="absolute")){_158=true;}_155=_155.offsetParent;}}if(this.isSafari&&_158){pos[0]-=document.body.offsetLeft;pos[1]-=document.body.offsetTop;}}return pos;},getPageX:function(ev){var x=ev.pageX;if(!x&&0!==x){x=ev.clientX||0;if(this.isIE){x+=this._getScrollLeft();if(document.body.clientLeft){x-=document.body.clientLeft;}}}return x;},getPageY:function(ev){var y=ev.pageY;if(y&&document.body.style&&this.getStyle(document.body,"position")=="relative"){y-=10;}if(!y&&0!==y){y=ev.clientY||0;if(this.isIE){y+=this._getScrollTop();if(document.body.clientTop){y-=document.body.clientTop;}}}return y;},_getScrollLeft:function(){return this._getScroll()[1];},_getScrollTop:function(){return this._getScroll()[0];},_getScroll:function(){var dd=document.documentElement,db=document.body;if(dd&&(dd.scrollTop||dd.scrollLeft)){return [dd.scrollTop,dd.scrollLeft];}else{if(db){return [db.scrollTop,db.scrollLeft];}else{return [0,0];}}},getViewportHeight:function(){var _15e=-1;var mode=document.compatMode;if((mode||this.isIE)&&!this.isOpera){if(mode==="CSS1Compat"){_15e=document.documentElement.clientHeight;}else{_15e=document.body.clientHeight;}}else{_15e=self.innerHeight;}return _15e;},getViewportWidth:function(){var _160=-1;var mode=document.compatMode;if(mode||this.isIE){if(mode==="CSS1Compat"){_160=document.documentElement.clientWidth;}else{_160=document.body.clientWidth;}}else{_160=self.innerWidth;}return _160;},getWidth:function(_162){var _163=parseInt(_162.offsetWidth);if(_162==document.body||_162==document||_162==window){return window.getWidth();}else{if(_162){var _163=parseInt(_162.offsetWidth);return (_163==0)?parseInt(_162.style.width):_163;}else{return null;}}},getHeight:function(_164){if(_164==document.body||_164==document||_164==window){return window.getHeight();}else{if(_164){var _165=parseInt(_164.offsetHeight);return (_165==0)?parseInt(_164.style.height):_165;}else{return null;}}},getLeft:function(_166){return _166.offsetLeft;},getRight:function(_167){return this.getLeft(_167)+this.getWidth(_167);},getTop:function(_168){return _168.offsetTop;},getBottom:function(_169){return this.getTop(_169)+this.getHeight(_169);},trim:function(str){return str.replace(/^\s*|\s*$/g,"");},getStyle:function(el,_16c){return el.style[_16c];},getStyleW3C:function(el,_16e){var _16f=null;if(_16e=="float"){_16e="cssFloat";}var _170=(document.defaultView)?document.defaultView.getComputedStyle(el,""):null;if(_170){_16f=_170[_16e];}return el.style[_16e]||_16f;},getStyleIE:function(el,_172){switch(_172){case "opacity":var val=100;try{val=el.filters["DXImageTransform.Microsoft.Alpha"].opacity;}catch(e){try{val=el.filters("alpha").opacity;}catch(e){}}return val/100;break;case "float":_172="styleFloat";default:var _174=el.currentStyle?el.currentStyle[_172]:null;return (el.style[_172]||_174);}},Rescan:function(_175){if(_175===null){return;}if(this.div_added){this.shot_scan(_175);}}};t.init();return t;};if(SNAP_COM.shot_config.version=="2.27.1"){SNAP_COM.shot=SNAP_COM.snap_shot_obj();}else{SNAP_COM.vmiss=document.createElement("img");SNAP_COM.vmiss.src="http://shots.snap.com/vmis.php?vcfg="+SNAP_COM.shot_config.version+"&vjs=2.27.1";SNAP_COM.vmiss.style.positions="absolute";SNAP_COM.vmiss.style.visibility="hidden";}