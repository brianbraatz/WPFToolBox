<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Petzold Book Blog - Animated Drawing Brushes</title></head><body style="text-align: center;">
    <div style="width: 40em; text-align: left;"><p style="text-align: center;"><b><font size="+4">P</font><font size="+3">ETZOLD</font>&nbsp;<font size="+4">B</font><font size="+3">OOK</font>&nbsp;<font size="+4">B</font><font size="+3">LOG</font></b></p><h4 style="text-align: center;">Charles Petzold on writing books, reading books, and exercising the internal <a title="Universal Turing Machine">UTM</a></h4><hr><table width="100%"><tbody><tr><td width="33%"></td><td align="center" width="33%"><a href="http://www.charlespetzold.com/blog/blog.xml">Recent Entries</a></td><td width="33%"></td></tr><tr><td width="33%"><a href="http://www.charlespetzold.com/blog/2006/07/230353.html">&lt; Previous</a></td><td align="center" width="33%"><a href="http://www.charlespetzold.com/blog/toc.html">Browse the Archives</a></td><td align="right" width="33%"><a href="http://www.charlespetzold.com/blog/2006/07/230652.html">Next &gt;</a></td></tr><tr><td width="33%"></td><td align="center" width="33%"><a href="http://www.charlespetzold.com/rss.xml">Subscribe to the RSS Feed</a></td><td width="33%"></td></tr></tbody></table><hr><a href="http://www.charlespetzold.com/blog/2006/07/230620.html" style="color: rgb(0, 0, 128); text-decoration: none;"><h2>Animated Drawing Brushes</h2></a><p style="text-align: right;">July 23, 2006<br>Roscoe, NY</p><p>
A WPF <i>DrawingBrush</i> is usually a tiled composition of <i>GeometryDrawing</i> objects. The geometries that make up these <i>GeometryDrawing</i>
objects can be animated, which makes all the tiles of the brush
animated, which is a rather frightening thought. Should it be done at
all? The nihilist says Yes, the moralist says No, and the programmer
can't wait to try it out.
</p>
<p>In this first example, the geometry that defines the brush is merely
a simple straight line, which is continuously rotated. By default, a
geometry that forms the basis of a <i>DrawingBrush</i> is expanded or compressed to fill the whole tile, which is defined by the <i>Viewport</i>
property as 25 units square. This means that when the line is exactly
horizontal or vertical, the line's width is expanded to 25 units, and
it fills the tile. The effect is very odd.
</p>
<p align="center">
<a href="http://www.charlespetzold.com/blog/2006/07/AnimatedDrawingBrush1.xaml">AnimatedDrawingBrush1.xaml</a>
</p>
<p>
You can prevent this expansion and contracton of geometries in a couple ways. The next program uses a <i>Viewbox</i> to define the total dimensions of a rotating triangle. However, as the triangle rotates, it's often clipped to this <i>Viewbox</i>, which results in the image in each tile merging with its neighbors.
</p>
<p align="center">
<a href="http://www.charlespetzold.com/blog/2006/07/AnimatedDrawingBrush2.xaml">AnimatedDrawingBrush2.xaml</a>
</p>
<p>
Finally, here's a rotating spiral, but I've also animated the <i>Viewport</i> so the whole brush seems to flow from upper-left to lower-right.
</p>
<p align="center">
<a href="http://www.charlespetzold.com/blog/2006/07/AnimatedDrawingBrush3.xaml">AnimatedDrawingBrush3.xaml</a>
</p>
<p>
All these files might run more smoothly if you restrict the size of your browser window.
</p>


<div id="comments"><hr><table width="100%"><tbody><tr><td width="33%"></td><td align="center" width="33%"><a href="http://www.charlespetzold.com/blog/blog.xml">Recent Entries</a></td><td width="33%"></td></tr><tr><td width="33%"><a href="http://www.charlespetzold.com/blog/2006/07/230353.html">&lt; Previous</a></td><td align="center" width="33%"><a href="http://www.charlespetzold.com/blog/toc.html">Browse the Archives</a></td><td align="right" width="33%"><a href="http://www.charlespetzold.com/blog/2006/07/230652.html">Next &gt;</a></td></tr><tr><td width="33%"></td><td align="center" width="33%"><a href="http://www.charlespetzold.com/rss.xml">Subscribe to the RSS Feed</a></td><td width="33%"></td></tr></tbody></table><hr><p>(c) Copyright Charles Petzold<br><a href="http://www.charlespetzold.com/">www.charlespetzold.com</a></p></div>
<a href="http://www.charlespetzold.com/">  </a></div></body></html>