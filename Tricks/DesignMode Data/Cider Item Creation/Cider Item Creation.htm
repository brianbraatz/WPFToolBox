<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><title>See Win App : Cider Item Creation</title>
 




<meta name="keywords" content="Cider">
<meta name="description" content="In Windows Forms, there were many occasions when you wanted to separate out your design time code from your runtime code. For design time code you didn't want to execute at runtime, you would use a designer and for runtime code you didn't want to execute">
<meta name="GENERATOR" content="CommunityServer 2.1 SP1 (Build: 61025.2)">
<link rel="pingback" href="http://blogs.msdn.com/jnak/pingback.aspx">
<link rel="stylesheet" href="Cider%20Item%20Creation_files/style.css" type="text/css" media="screen">
<link rel="stylesheet" href="Cider%20Item%20Creation_files/print.htm" type="text/css" media="print">
<link rel="stylesheet" href="Cider%20Item%20Creation_files/sidebar_left_wide.css" type="text/css" media="screen">
<link rel="stylesheet" href="Cider%20Item%20Creation_files/customcss.css" type="text/css" media="screen">
<link rel="shortcut icon" type="image/ico" href="http://blogs.msdn.com/favicon.ico">
<link rel="alternate" type="application/rss+xml" title="See Win App (RSS 2.0)" href="http://blogs.msdn.com/jnak/rss.xml">
<link rel="alternate" type="application/atom+xml" title="See Win App (Atom 1.0)" href="http://blogs.msdn.com/jnak/atom.xml">
<link rel="alternate" type="application/rss+xml" title="Cider Item Creation Comment RSS (RSS 2.0)" href="http://blogs.msdn.com/jnak/commentrss.aspx?PostID=572241">

	<script src="Cider%20Item%20Creation_files/global.js" type="text/javascript"></script>
<style>
.DoNotDisplay { display: none; }
</style></head><body>
<form name="aspnetForm" method="post" action="/jnak/archive/2006/04/10/572241.aspx" onsubmit="javascript:return WebForm_OnSubmit();" id="aspnetForm">
<div>
<input name="__EVENTTARGET" id="__EVENTTARGET" value="" type="hidden">
<input name="__EVENTARGUMENT" id="__EVENTARGUMENT" value="" type="hidden">
<input name="__VIEWSTATE" id="__VIEWSTATE" value="/wEPDwUKLTMyNjg0MDc1MWQYAQUeX19Db250cm9sc1JlcXVpcmVQb3N0QmFja0tleV9fFgEFI2N0bDAwJF8kY3RsMDAkXyRicyRfJHdzJF8kU2VhcmNoQm94rkRXbV1z5ohWybmugg6l5bfTy3M=" type="hidden">
</div>

<script type="text/javascript">
<!--
var theForm = document.forms['aspnetForm'];
if (!theForm) {
    theForm = document.aspnetForm;
}
function __doPostBack(eventTarget, eventArgument) {
    if (!theForm.onsubmit || (theForm.onsubmit() != false)) {
        theForm.__EVENTTARGET.value = eventTarget;
        theForm.__EVENTARGUMENT.value = eventArgument;
        theForm.submit();
    }
}
// -->
</script>


<script src="Cider%20Item%20Creation_files/WebResource.js" type="text/javascript"></script>

<script language="javascript" type="text/javascript" src="Cider%20Item%20Creation_files/Telligent_Modal.js"></script><script language="javascript" type="text/javascript">
// <![CDATA[
Telligent_Modal.Configure('/utility/loading.htm',['Modal'],['ModalTitle'],['ModalClose'],['ModalContent'],['ModalFooter'],['ModalResize'],['ModalMask'],100);
// ]]>
</script><script language="javascript" type="text/javascript">
var RatingControlAJAX = {
"SaveRating":function(id,p0,cb){return Ajax_CallBack('CommunityServer.Blogs.Controls.BlogRatePost',id,'SaveRating',[p0],cb,0,0,0,1);}};
</script><script language="javascript" type="text/javascript">
var ThreadSubscribeLinkButton = {
"ToggleEmailReplies":function(id,p0,cb){return Ajax_CallBack('CommunityServer.Controls.ThreadSubscribeLinkButton',id,'ToggleEmailReplies',[p0],cb,0,0,0,0);}};
</script><script type="text/javascript" src="Cider%20Item%20Creation_files/ratingcontrol.js"></script><script language="JavaScript" type="text/javascript">var ctl00___ctl00___ctl01___DetailedSubBar___BlogThreadButton_trackWorking = false;var ctl00___ctl00___ctl01___DetailedSubBar___BlogThreadButton_trackStatus = false;function updateSubscriptionText() {if(ctl00___ctl00___ctl01___DetailedSubBar___BlogThreadButton_trackStatus == true) {document.getElementById('ctl00___ctl00___ctl01___DetailedSubBar___BlogThreadButton').innerHTML = 'Stop sending me email alerts for this post';} else {document.getElementById('ctl00___ctl00___ctl01___DetailedSubBar___BlogThreadButton').innerHTML = 'Send me email alerts for new comments to this post';}}function toggleSubscription() {ctl00___ctl00___ctl01___DetailedSubBar___BlogThreadButton_trackWorking = true;document.getElementById('ctl00___ctl00___ctl01___DetailedSubBar___BlogThreadButton').innerHTML = 'Updating email notifications...';ThreadSubscribeLinkButton.ToggleEmailReplies('ctl00___ctl00___ctl01___DetailedSubBar___BlogThreadButton',445816, toggleSubscriptionCallback);}function toggleSubscriptionCallback(response) {ctl00___ctl00___ctl01___DetailedSubBar___BlogThreadButton_trackWorking = false;if((response.error == null) && (response.value == true)) {if(ctl00___ctl00___ctl01___DetailedSubBar___BlogThreadButton_trackStatus == true) {ctl00___ctl00___ctl01___DetailedSubBar___BlogThreadButton_trackStatus = false;} else {ctl00___ctl00___ctl01___DetailedSubBar___BlogThreadButton_trackStatus = true;}updateSubscriptionText();} else {updateSubscriptionText();alert('An error happened while processing your request.  Please notify an administrator and try again later.');}}</script>
<script src="Cider%20Item%20Creation_files/WebResource_002.js" type="text/javascript"></script>
<script type="text/javascript">
<!--
function WebForm_OnSubmit() {
if (typeof(ValidatorOnSubmit) == "function" && ValidatorOnSubmit() == false) return false;
return true;
}
// -->
</script>

			
<div id="masthead">
	
		<div id="welcome" align="right">
			
					Signed in as <a href="http://blogs.msdn.com/user/EditProfile.aspx?ReturnUrl=/blogs/post.aspx?App=jnak&amp;y=2006&amp;m=04&amp;d=10&amp;PostID=572241">bbraatz</a>
 | <a id="ctl00___ctl00___duw1_rc1___logout" href="http://blogs.msdn.com/logout.aspx">Sign out</a>



				
			 | 
			<a id="ctl00___ctl00___duw1_Faq1" href="http://blogs.msdn.com/languages/en-US/docs/faq.aspx">Help</a>
		</div>
	
</div>
<div id="wrapper"><div id="container">
	<div id="header">
		
<div id="title">
	<h1><a id="ctl00___ctl00___bt___BlogTitle" class="headermaintitle" href="http://blogs.msdn.com/jnak/default.aspx">See Win App</a></h1>
	<p id="tagline">The Cider Chronicles</p>
</div>
<div id="SubscriptionsSideBar">
	
<div id="subscriptions">
<ul>
	<li><a id="ctl00___ctl00___bt___s___rss" href="http://blogs.msdn.com/jnak/rss.xml">RSS 2.0</a></li>
	<li><a id="ctl00___ctl00___bt___s___atom" href="http://blogs.msdn.com/jnak/atom.xml">Atom 1.0</a></li>
	<li><a id="ctl00___ctl00___bt___s___email" href="http://blogs.msdn.com/jnak/emailsubscriptions.aspx">Email alerts</a></li>
</ul>
</div>
 
 
</div>
<div id="nav">
	<ul>
	<li><a id="ctl00___ctl00___bt___home" href="http://blogs.msdn.com/jnak/default.aspx">Home</a></li>
	
	<li><a id="ctl00___ctl00___bt___Contactlink1" href="http://blogs.msdn.com/jnak/contact.aspx">Email</a></li>
	</ul>
</div>
	</div>
	<div id="contentwrapper">
		<div id="sidebar-a">
			
<div id="TasksSideBar">
	
</div>

<div id="SearchSideBar">
	
<div id="search">
	<h3>Search</h3>
	<input name="ctl00$_$ctl00$_$bs$_$ws$_$SearchBox" id="ctl00___ctl00___bs___ws___SearchBox" class="searchBox" onkeydown="KeyDownHandlerctl00___ctl00___bs___ws___SearchButton(event);" type="text">
	<a id="ctl00___ctl00___bs___ws___SearchButton" href="javascript:__doPostBack('ctl00$_$ctl00$_$bs$_$ws$_$SearchButton','')">Go</a>
</div><br>
</div>

<div id="TagSideBar">
	<h3>Tags</h3>
	<ul>
	<ul class="SidebarTagCloud">
<li class="Tag3"><a href="http://blogs.msdn.com/jnak/archive/tags/Chit-chat/default.aspx" rel="tag">Chit-chat</a></li>
<li class="Tag1"><a href="http://blogs.msdn.com/jnak/archive/tags/Cider/default.aspx" rel="tag">Cider</a></li>
<li class="Tag5"><a href="http://blogs.msdn.com/jnak/archive/tags/Software/default.aspx" rel="tag">Software</a></li>
<li class="Tag6"><a href="http://blogs.msdn.com/jnak/archive/tags/TechEd/default.aspx" rel="tag">TechEd</a></li>
<li class="Tag4"><a href="http://blogs.msdn.com/jnak/archive/tags/Visual+Studio+2008/default.aspx" rel="tag">Visual Studio 2008</a></li>
<li class="Tag2"><a href="http://blogs.msdn.com/jnak/archive/tags/WPF/default.aspx" rel="tag">WPF</a></li>
</ul>

	</ul>
</div>

<div id="NewsSideBar">
	
</div>

<div id="ArchiveSideBar">
	

<h3>Archives</h3>
<ul>

	<li><a href="http://blogs.msdn.com/jnak/archive/2007/10.aspx">October 2007 (5)</a></li>

	<li><a href="http://blogs.msdn.com/jnak/archive/2007/09.aspx">September 2007 (4)</a></li>

	<li><a href="http://blogs.msdn.com/jnak/archive/2007/08.aspx">August 2007 (6)</a></li>

	<li><a href="http://blogs.msdn.com/jnak/archive/2007/06.aspx">June 2007 (1)</a></li>

	<li><a href="http://blogs.msdn.com/jnak/archive/2006/12.aspx">December 2006 (1)</a></li>

	<li><a href="http://blogs.msdn.com/jnak/archive/2006/11.aspx">November 2006 (1)</a></li>

	<li><a href="http://blogs.msdn.com/jnak/archive/2006/10.aspx">October 2006 (1)</a></li>

	<li><a href="http://blogs.msdn.com/jnak/archive/2006/08.aspx">August 2006 (2)</a></li>

	<li><a href="http://blogs.msdn.com/jnak/archive/2006/07.aspx">July 2006 (3)</a></li>

	<li><a href="http://blogs.msdn.com/jnak/archive/2006/06.aspx">June 2006 (4)</a></li>

	<li><a href="http://blogs.msdn.com/jnak/archive/2006/05.aspx">May 2006 (4)</a></li>

	<li><a href="http://blogs.msdn.com/jnak/archive/2006/04.aspx">April 2006 (4)</a></li>

	<li><a href="http://blogs.msdn.com/jnak/archive/2006/03.aspx">March 2006 (10)</a></li>

	<li><a href="http://blogs.msdn.com/jnak/archive/2006/02.aspx">February 2006 (5)</a></li>

	<li><a href="http://blogs.msdn.com/jnak/archive/2006/01.aspx">January 2006 (4)</a></li>

	<li><a href="http://blogs.msdn.com/jnak/archive/2005/12.aspx">December 2005 (7)</a></li>

</ul>

</div>

<div id="LinkSideBar">
	
    <h3>Blog Roll</h3>
    <ul>
        <li><a id="ctl00___ctl00___bs___lcl___Categories_ctl00_Links_ctl01_Link" href="http://www.joelonsoftware.com/">Joel on Software</a></li>
    
        <li><a id="ctl00___ctl00___bs___lcl___Categories_ctl00_Links_ctl02_Link" href="http://www.charlespetzold.com/blog/blog.xml">Charles Petzold</a></li>
    
        <li><a id="ctl00___ctl00___bs___lcl___Categories_ctl00_Links_ctl03_Link" href="http://martinfowler.com/bliki/">Martin Fowler</a></li>
    
        <li><a id="ctl00___ctl00___bs___lcl___Categories_ctl00_Links_ctl04_Link" href="http://blogs.msdn.com/fyuan/">Feng Yuan</a></li>
    </ul>

    <h3>Cider Bloggers</h3>
    <ul>
        <li><a id="ctl00___ctl00___bs___lcl___Categories_ctl01_Links_ctl01_Link" rel="co-worker" href="http://blogs.msdn.com/jfoscoding">Jessica Fosler's jfo's coding</a></li>
    
        <li><a id="ctl00___ctl00___bs___lcl___Categories_ctl01_Links_ctl02_Link" rel="co-worker" href="http://blogs.msdn.com/subhagpo/">Subhag Oak</a></li>
    
        <li><a id="ctl00___ctl00___bs___lcl___Categories_ctl01_Links_ctl03_Link" rel="co-worker" href="http://www.urbanpotato.net/">Brian Pepin</a></li>
    
        <li><a id="ctl00___ctl00___bs___lcl___Categories_ctl01_Links_ctl04_Link" rel="co-worker" href="http://www.removingalldoubt.com/">Removing all Doubt - Chuck Jazdzewski</a></li>
    
        <li><a id="ctl00___ctl00___bs___lcl___Categories_ctl01_Links_ctl05_Link" rel="co-worker" href="http://myfun.spaces.live.com/blog/">Richard Bailey</a></li>
    </ul>

    <h3>Cider Links</h3>
    <ul>
        <li><a id="ctl00___ctl00___bs___lcl___Categories_ctl02_Links_ctl01_Link" href="http://forums.microsoft.com/MSDN/ShowForum.aspx?ForumID=169&amp;SiteID=1">MSDN Forum</a></li>
    
        <li><a id="ctl00___ctl00___bs___lcl___Categories_ctl02_Links_ctl02_Link" href="http://channel9.msdn.com/wiki/default.aspx/Cider.HomePage">Channel9 Wiki</a></li>
    </ul>

    <h3>Other Microsoft Blogs</h3>
    <ul>
        <li><a id="ctl00___ctl00___bs___lcl___Categories_ctl03_Links_ctl01_Link" href="http://blogs.msdn.com/OldNewThing">Raymond Chen's The Old New Thing</a></li>
    
        <li><a id="ctl00___ctl00___bs___lcl___Categories_ctl03_Links_ctl02_Link" href="http://blogs.msdn.com/ericgu">Eric Gunnerson's C# Compendium</a></li>
    
        <li><a id="ctl00___ctl00___bs___lcl___Categories_ctl03_Links_ctl03_Link" href="http://scobleizer.wordpress.com/">Scobleizer</a></li>
    
        <li><a id="ctl00___ctl00___bs___lcl___Categories_ctl03_Links_ctl04_Link" href="http://pluralsight.com/blogs/dbox">Don Box's Spoutlet</a></li>
    
        <li><a id="ctl00___ctl00___bs___lcl___Categories_ctl03_Links_ctl05_Link" href="http://www.sellsbrothers.com/">Marquee de Sells</a></li>
    
        <li><a id="ctl00___ctl00___bs___lcl___Categories_ctl03_Links_ctl06_Link" href="http://blogs.msdn.com/ricom/default.aspx">Rico Mariani's Performance Tidbits</a></li>
    
        <li><a id="ctl00___ctl00___bs___lcl___Categories_ctl03_Links_ctl07_Link" href="http://shawnburke.com/default.aspx?document=1">Shawn Burke</a></li>
    
        <li><a id="ctl00___ctl00___bs___lcl___Categories_ctl03_Links_ctl08_Link" href="http://blogs.msdn.com/jgalasyn/default.aspx">Jim Galasyn (Client/Web UE)</a></li>
    
        <li><a id="ctl00___ctl00___bs___lcl___Categories_ctl03_Links_ctl09_Link" href="http://blogs.msdn.com/dphill/default.aspx">David Hill (Smart Client)</a></li>
    
        <li><a id="ctl00___ctl00___bs___lcl___Categories_ctl03_Links_ctl10_Link" href="http://spaces.msn.com/manodesign/">Manuel Clement (Windows UX)</a></li>
    
        <li><a id="ctl00___ctl00___bs___lcl___Categories_ctl03_Links_ctl11_Link" href="http://blogs.msdn.com/brada/default.aspx">Brad Abrams (UIFx)</a></li>
    
        <li><a id="ctl00___ctl00___bs___lcl___Categories_ctl03_Links_ctl12_Link" href="http://blogs.msdn.com/mhendersblog/default.aspx">Mike Henderlight (WPF/WinForms interop)</a></li>
    
        <li><a id="ctl00___ctl00___bs___lcl___Categories_ctl03_Links_ctl13_Link" href="http://blogs.msdn.com/benwu/">Benjamin Wulfe (WinForms)</a></li>
    </ul>

    <h3>WPF/E</h3>
    <ul>
        <li><a id="ctl00___ctl00___bs___lcl___Categories_ctl04_Links_ctl01_Link" href="http://blogs.msdn.com/mharsh/default.aspx">Mike Harsh</a></li>
    
        <li><a id="ctl00___ctl00___bs___lcl___Categories_ctl04_Links_ctl02_Link" href="http://blogs.msdn.com/jstegman/">Joe Stegman</a></li>
    </ul>


</div></div>
		<div id="content"><div id="content2">
			
			




<div class="post">
	<div class="posthead">
		Monday, April 10, 2006 10:24 PM
		<a id="ctl00___ctl00___ctl01___Entry___AuthorLink" href="http://blogs.msdn.com/user/Profile.aspx?UserID=15272">jnak</a> 
		<h2>Cider Item Creation <span class="ratemenu" id="ctl00___ctl00___ctl01___Entry___Ratings" title="Not yet rated"><img title="Poor" src="Cider%20Item%20Creation_files/star-left-off.gif" align="absmiddle" border="0"><img title="Poor" src="Cider%20Item%20Creation_files/star-right-off.gif" align="absmiddle" border="0"><img title="Fair" src="Cider%20Item%20Creation_files/star-left-off.gif" align="absmiddle" border="0"><img title="Fair" src="Cider%20Item%20Creation_files/star-right-off.gif" align="absmiddle" border="0"><img title="Average" src="Cider%20Item%20Creation_files/star-left-off.gif" align="absmiddle" border="0"><img title="Average" src="Cider%20Item%20Creation_files/star-right-off.gif" align="absmiddle" border="0"><img title="Good" src="Cider%20Item%20Creation_files/star-left-off.gif" align="absmiddle" border="0"><img title="Good" src="Cider%20Item%20Creation_files/star-right-off.gif" align="absmiddle" border="0"><img title="Excellent" src="Cider%20Item%20Creation_files/star-left-off.gif" align="absmiddle" border="0"><img title="Excellent" src="Cider%20Item%20Creation_files/star-right-off.gif" align="absmiddle" border="0"></span><input value="0" id="ctl00___ctl00___ctl01___Entry___Ratings_Value" type="hidden"></h2>
	</div>
	<div class="postcontent">
		<p>In
Windows Forms, there were many occasions when you wanted to separate
out your design time code from your runtime code.&nbsp; For design time
code you didn't want to execute at runtime, you would use a designer
and for runtime code you didn't want to execute at design time (i.e. it
did a bunch of database access) in most situations you could use the
Control.DesignMode property.</p>
<p>The problem with Control.DesignMode was that it depended on
IComponent.Site being set for your control.&nbsp; Unfortunately, there
were cases when this wasn't true, most noteably in the constructor of
that control.</p>
<p>If you've seen Brian Pepin's articles on the Cider designer (<a href="http://www.urbanpotato.net/Default.aspx/document/2224">part 1 here</a>&nbsp;and <a href="http://www.urbanpotato.net/Default.aspx/document/970">part 2 here</a>)
you'll know that in Cider, we've gone away from IComponent.&nbsp; This
means that there isn't a Control.DesignMode property for WPF/Avalon
controls.</p>
<p>Instead, Cider's Extension architecture (again see Brian's articles)
is used to add a CustomInstanceFactory to a control.&nbsp; When Cider
goes to instantiate that control, instead of calling "new" or
"Activator.CreateInstance" it calls its CustomInstanceFactory instead.</p>
<p>For example:</p><font size="2">
</font><p><font size="2">[</font><font color="#008080" size="2">Extension</font><font size="2">(</font><font color="#0000ff" size="2">typeof</font><font size="2">(</font><font color="#008080" size="2">SliderAdornerInstanceFactory</font><font size="2">))]<br></font><font color="#0000ff" size="2">public</font><font size="2"> </font><font color="#0000ff" size="2">class</font><font size="2"> </font><font color="#008080" size="2">SliderAdornedButton</font><font size="2"> : </font><font color="#008080" size="2">Button<br></font><font size="2">{<br></font><font color="#0000ff" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;private</font><font size="2"> </font><font color="#0000ff" size="2">bool</font><font size="2"> IsDesignMode = </font><font color="#0000ff" size="2">false</font><font size="2">;</font></p>
<p><font color="#0000ff" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public</font><font size="2"> </font><font color="#0000ff" size="2">bool</font><font size="2"> SetIsDesignMode<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000ff" size="2">get</font><font size="2"> { </font><font color="#0000ff" size="2">return</font><font size="2"> </font><font color="#0000ff" size="2">this</font><font size="2">.IsDesignMode; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000ff" size="2">set</font><font size="2"> { </font><font color="#0000ff" size="2">this</font><font size="2">.IsDesignMode = </font><font color="#0000ff" size="2">value</font><font size="2">; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br></font><font size="2">}</font></p>
<p><font color="#0000ff" size="2">class</font><font size="2"> </font><font color="#008080" size="2">SliderAdornerInstanceFactory</font><font size="2"> : </font><font color="#008080" size="2">CustomInstanceFactory<br></font><font size="2">{</font></p>
<p><font color="#0000ff" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public</font><font size="2"> </font><font color="#0000ff" size="2">override</font><font size="2"> </font><font color="#0000ff" size="2">object</font><font size="2"> CreateInstance(</font><font color="#008080" size="2">Type</font><font size="2"> type, </font><font color="#0000ff" size="2">params</font><font size="2"> </font><font color="#0000ff" size="2">object</font><font size="2">[] arguments)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font size="2">{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000ff" size="2">object</font><font size="2"> instance = </font><font color="#0000ff" size="2">base</font><font size="2">.CreateInstance(type, arguments);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#008080" size="2">SliderAdornedButton</font><font size="2"> sab = instance </font><font color="#0000ff" size="2">as</font><font size="2"> </font><font color="#008080" size="2">SliderAdornedButton</font><font size="2">;</font></p>
<p><font color="#0000ff" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if</font><font size="2"> (sab != </font><font color="#0000ff" size="2">null</font><font size="2">) sab.SetIsDesignMode = </font><font color="#0000ff" size="2">true</font><font size="2">;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000ff" size="2">return</font><font size="2"> instance;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font size="2">}<br></font><font size="2">}</font></p>
<p>In other words, at design time, if there is a Custom Instance
Factory attached to an object, it is used to instantiate the object
instead of the designer itself.&nbsp; This extensibility point allows
you to set a bool indicating that you are in design mode (as the sample
code above shows) and do any other design time specific code.</p>
<p>In fact, you could even return a design time specific instance of
your control.&nbsp; As an example, Cider currently uses this mechanism
to provide our own design time version of Window since we can't use a
real Window instance as it cannot be parented to another control.</p>
<p>To summarize: Custom Instance Factories provide the ability to hook into the creation of your control at design time.</p>
	</div>
	<div><span id="ctl00___ctl00___ctl01___Entry___InlineTagEditorPanel">Filed under: <a href="http://blogs.msdn.com/jnak/archive/tags/Cider/default.aspx" rel="tag">Cider</a></span><input name="ctl00$_$ctl00$_$ctl01$_$Entry$_$InlineTagEditorPanel" id="ctl00___ctl00___ctl01___Entry___InlineTagEditorPanel_State" value="nochange" type="hidden"></div>
		
</div>

<div class="postfoot">
	
<div id="postToolbar">
<h2 class="CommonSubTitle">Comment Notification</h2>
<p>
	
	<a href="javascript:toggleSubscription();" id="ctl00___ctl00___ctl01___DetailedSubBar___BlogThreadButton" trackingresourcename="Weblogs_UnTrack" nottrackingresourcename="Weblogs_Track" workingresourcename="Weblogs_TrackWorking">Send me email alerts for new comments to this post</a>
</p>
<p>
	Subscribe to this post's comments using
	<a id="ctl00___ctl00___ctl01___DetailedSubBar___CommentRssLink" href="http://blogs.msdn.com/jnak/commentrss.aspx?PostID=572241">RSS</a>
</p>
</div>

</div>

	<div id="comments">
	<h3>
	Comments
</h3>

	<div class="comment">
	<h4>
		<a id="ctl00___ctl00___ctl01___Comments___Comments_ctl01_PermaLink" title="permalink" href="http://blogs.msdn.com/jnak/archive/2006/04/10/572241.aspx#578010">#</a>
		Brian discusses the evolution of user input and feedback in the designer<a name="578010"></a>
	</h4>
	<div class="commentssubhead">
		<span class="commentspan"></span>
		Tuesday, April 18, 2006 1:41 AM 
			by <a id="ctl00___ctl00___ctl01___Comments___Comments_ctl01_NameLink" rel="nofollow" title="TrackBack" href="http://blogs.msdn.com/jfoscoding/archive/2006/04/18/578009.aspx" target="_blank">jfo's coding</a>
	</div>
	<div class="commentsbody">
		Brian walks through the history of the implementation of grab handles and snaplines in the designer,...
	</div>
	</div>

	<div class="comment">
	<h4>
		<a id="ctl00___ctl00___ctl01___Comments___Comments_ctl02_PermaLink" title="permalink" href="http://blogs.msdn.com/jnak/archive/2006/04/10/572241.aspx#595748">#</a>
		JNak has been blogging!<a name="595748"></a>
	</h4>
	<div class="commentssubhead">
		<span class="commentspan"></span>
		Thursday, May 11, 2006 8:42 PM 
			by <a id="ctl00___ctl00___ctl01___Comments___Comments_ctl02_NameLink" rel="nofollow" title="TrackBack" href="http://blogs.msdn.com/subhagpo/archive/2006/05/11/595747.aspx" target="_blank">Soaked in CIDER !</a>
	</div>
	<div class="commentsbody">
		One more addition to CIDER bloggers. James Nakashima - PM on the CIDER team. He has some great posts...
	</div>
	</div>

	<div class="comment">
	<h4>
		<a id="ctl00___ctl00___ctl01___Comments___Comments_ctl03_PermaLink" title="permalink" href="http://blogs.msdn.com/jnak/archive/2006/04/10/572241.aspx#683933">#</a>
		re: Cider Item Creation<a name="683933"></a>
	</h4>
	<div class="commentssubhead">
		<span class="commentspan"></span>
		Monday, July 31, 2006 5:38 AM 
			by <a id="ctl00___ctl00___ctl01___Comments___Comments_ctl03_NameLink" title="Shawn Chen" target="_blank">Shawn Chen</a>
	</div>
	<div class="commentsbody">
		I am wondering if this class CustomInstanceFactory is internal used only? I cannot find it in WPF and Cider assemblies.
<br>If it is an internal class, how can I be notified when my control is instantiated by Cider?
	</div>
	</div>

	<div class="commentowner">
	<h4>
		<a id="ctl00___ctl00___ctl01___Comments___Comments_ctl04_PermaLink" title="permalink" href="http://blogs.msdn.com/jnak/archive/2006/04/10/572241.aspx#685590">#</a>
		re: Cider Item Creation<a name="685590"></a>
	</h4>
	<div class="commentssubhead">
		<span class="commentspan"></span>
		Tuesday, August 01, 2006 3:58 PM 
			by <a id="ctl00___ctl00___ctl01___Comments___Comments_ctl04_NameLink" title="jnak" href="http://blogs.msdn.com/jnak" target="_blank">jnak</a>
	</div>
	<div class="commentsbody">
		Hi Shawn, 
<br>
<br>You asked this and other questions in a forum post: <a rel="nofollow" target="_new" href="http://forums.microsoft.com/MSDN/ShowPost.aspx?PostID=600484&amp;SiteID=1&amp;mode=1">http://forums.microsoft.com/MSDN/ShowPost.aspx?PostID=600484&amp;SiteID=1&amp;mode=1</a> &nbsp;
<br>
<br>Wanted to let you know that your questions have been answered.
<br>
	</div>
	</div>

	</div>





<div id="commentform">
<h3>Leave a Comment</h3>
<dl>
	
	<dt><label for="ctl00___ctl00___ctl01___form___tbUrl">Your URL</label> <em>(optional</em>)</dt>
	<dd><input name="ctl00$_$ctl00$_$ctl01$_$form$_$tbUrl" id="ctl00___ctl00___ctl01___form___tbUrl" class="smallbox" type="text"></dd>
	<dt><label for="ctl00___ctl00___ctl01___form___tbComment">Comments</label> <em>(required)</em><span id="ctl00___ctl00___ctl01___form___Requiredfieldvalidator3" style="color: Red; visibility: hidden;">*</span></dt>
	<dd><textarea name="ctl00$_$ctl00$_$ctl01$_$form$_$tbComment" rows="5" cols="25" id="ctl00___ctl00___ctl01___form___tbComment"></textarea></dd>
	<dt></dt>
	<dt><input name="ctl00$_$ctl00$_$ctl01$_$form$_$btnSubmit" value="Submit" onclick='javascript:WebForm_DoPostBackWithOptions(new WebForm_PostBackOptions("ctl00$_$ctl00$_$ctl01$_$form$_$btnSubmit", "", true, "", "", false, false))' id="ctl00___ctl00___ctl01___form___btnSubmit" type="submit"></dt>
</dl>
</div>



   
    
		</div></div>
		<div id="contentfooter">&nbsp;</div>
	</div>

	<div id="footer"></div></div>
</div>

<script type="text/javascript">
<!--
var Page_Validators =  new Array(document.getElementById("ctl00___ctl00___ctl01___form___Requiredfieldvalidator3"));
// -->
</script>

<script type="text/javascript">
<!--
var ctl00___ctl00___ctl01___form___Requiredfieldvalidator3 = document.all ? document.all["ctl00___ctl00___ctl01___form___Requiredfieldvalidator3"] : document.getElementById("ctl00___ctl00___ctl01___form___Requiredfieldvalidator3");
ctl00___ctl00___ctl01___form___Requiredfieldvalidator3.controltovalidate = "ctl00___ctl00___ctl01___form___tbComment";
ctl00___ctl00___ctl01___form___Requiredfieldvalidator3.errormessage = "*";
ctl00___ctl00___ctl01___form___Requiredfieldvalidator3.evaluationfunction = "RequiredFieldValidatorEvaluateIsValid";
ctl00___ctl00___ctl01___form___Requiredfieldvalidator3.initialvalue = "";
// -->
</script>

<script language="javascript" type="text/javascript">
<!--
function KeyDownHandlerctl00___ctl00___bs___ws___SearchButton(event)
{
	if (event.keyCode == 13)
	{
		event.returnValue = false;
		event.cancel = true;
     __doPostBack('ctl00$_$ctl00$_$bs$_$ws$_$SearchButton','')	}
}

//-->
</script>
<script language="javascript">var ctl00___ctl00___ctl01___Entry___Ratings=new RateControl('ctl00___ctl00___ctl01___Entry___Ratings','ctl00___ctl00___ctl01___Entry___Ratings','ctl00___ctl00___ctl01___Entry___Ratings_Value', 5, '/Themes/default/images/common/', false, 'ratemenu','CommonRateControlActive','ratemenu',['Terrible','Poor','Fair','Average','Good','Excellent'],false,true);</script>
<!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
xmlns:dc="http://purl.org/dc/elements/1.1/"
xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
<rdf:Description
rdf:about="http://blogs.msdn.com/jnak/archive/2006/04/10/572241.aspx"
dc:identifier="http://blogs.msdn.com/jnak/archive/2006/04/10/572241.aspx"
dc:title="Cider Item Creation"
trackback:ping="http://blogs.msdn.com/jnak/trackback.aspx?PostID=572241" />
</rdf:RDF>
-->

<script type="text/javascript">
<!--
var Page_ValidationActive = false;
if (typeof(ValidatorOnLoad) == "function") {
    ValidatorOnLoad();
}

function ValidatorOnSubmit() {
    if (Page_ValidationActive) {
        return ValidatorCommonOnSubmit();
    }
    else {
        return true;
    }
}
// -->
</script>
        </form>
</body></html>