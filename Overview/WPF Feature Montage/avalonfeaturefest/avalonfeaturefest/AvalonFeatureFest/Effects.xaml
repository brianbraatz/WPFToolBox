<Page x:Class="FeatureMontage.Effects"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="Effects"
    >
  <Viewbox Margin="10" Name="RootViewbox">
    <Grid Name="GridDude">
      <Grid.Resources>
        <Style x:Key="GuineaPig" TargetType="{x:Type ContentControl}">
          <Setter Property="FontSize" Value="70" />
        </Style>

        <Style x:Key="EffectExpander" TargetType="{x:Type Expander}" BasedOn="{StaticResource {x:Type Expander}}">
          <Setter Property="Padding" Value="3" />
          <Setter Property="Width" Value="220" />
          <Setter Property="Margin" Value="0,10" />
        </Style>

        <Style TargetType="{x:Type Slider}">
          <Setter Property="MinWidth" Value="0" />
          <Setter Property="IsSnapToTickEnabled" Value="True" />
        </Style>

        <Style TargetType="{x:Type ComboBox}">
          <Setter Property="MinWidth" Value="0" />
        </Style>

        <Style x:Key="ContentComboBox" TargetType="{x:Type ComboBox}" BasedOn="{StaticResource {x:Type ComboBox}}">

        </Style>

        <BooleanToVisibilityConverter x:Key="BoolToVisibility"/>

        <TextBlock x:Key="EffectsText" Foreground="Black" Padding="10,0" TextAlignment="Center" VerticalAlignment="Center">Effects</TextBlock>

        <Border x:Key="LimeCat" BorderBrush="BlanchedAlmond" BorderThickness="10">
          <Image Source="Resources/Images/LimeCat.jpg" />
        </Border>

        <Viewbox x:Key="SmallFish">
          <Canvas Width="112.627930" Height="42.818848">
            <!-- Layer 2/SmallFish/<Path> -->
            <Path Fill="#ffb5c5c9" StrokeThickness="1.500000" Stroke="#ff000000" StrokeMiterLimit="1.000000" Data="F1 M 5.619629,33.621582 C 5.619629,33.621582 52.619629,-23.711914 110.619629,19.288086 C 51.286621,75.288086 6.286621,5.954102 6.286621,5.621094 C 6.286621,5.288086 -5.713867,13.288086 5.619629,33.621582 Z"/>

            <!-- Layer 2/SmallFish/<Path> -->
            <Path Opacity="0.300000" Fill="#ffffffff" Data="F1 M 88.448730,7.026367 C 85.325684,6.969238 87.520508,9.208984 86.746094,12.799316 C 86.365723,14.562500 86.306152,16.644531 86.075195,18.812012 C 85.867188,20.762695 85.426270,22.796387 85.509766,24.840332 C 85.593750,26.894043 85.828613,28.977051 86.370117,30.900391 C 86.898438,32.777832 87.785156,34.625488 88.902344,36.167480 C 90.484375,35.684082 92.134766,34.591797 93.846680,33.588379 C 95.431641,32.659180 97.207031,31.826660 98.759277,30.665039 C 100.255859,29.544922 101.470215,28.076172 102.810547,26.926758 C 104.274414,25.671387 105.637207,24.500488 106.760254,23.439453 C 108.942383,21.376953 111.955078,22.050781 110.449707,20.041016 C 108.863770,17.923828 108.088867,18.836426 105.822266,17.471191 C 103.584961,16.123535 103.653320,16.010254 101.415527,14.662598 C 99.169922,13.310059 99.110352,13.409668 96.864258,12.057129 C 94.714844,10.762207 94.733398,10.736816 92.772949,9.170410 C 90.848633,7.632813 90.900391,7.071289 88.448730,7.026367 Z"/>

            <!-- Layer 2/SmallFish/<Path> -->
            <Path Opacity="0.300000" Fill="#ffffffff" Data="F1 M 16.950684,20.817383 C 13.950684,19.817383 8.328613,19.705566 8.328613,19.705566 C 8.328613,19.705566 -6.171387,11.205566 4.828613,30.705566 C 12.328613,27.205566 16.950684,20.817383 16.950684,20.817383 Z"/>

            <!-- Layer 2/SmallFish/<Path> -->
            <Path Opacity="0.300000" Fill="#ffffffff" Data="F1 M 21.398926,21.630371 C 21.398926,21.630371 63.953613,40.512207 91.870117,30.900391 C 91.786621,33.288574 55.511230,54.472168 21.398926,21.630371"/>

            
            <!-- Layer 2/SmallFish/<Path> -->
            <Path Fill="#ff000000" Data="F1 M 100.286621,18.288086 C 100.286621,16.999512 99.242188,15.955078 97.953613,15.955078 C 96.665039,15.955078 95.620605,16.999512 95.620605,18.288086 C 95.620605,19.576660 96.665039,20.621094 97.953613,20.621094 C 99.242188,20.621094 100.286621,19.576660 100.286621,18.288086 Z"/>

            <!-- Layer 2/SmallFish/<Path> -->
            <Path StrokeThickness="1.000000" Stroke="#ff000000" StrokeMiterLimit="1.000000" Data="F1 M 90.619629,0.288574 C 90.619629,0.288574 76.953613,19.622070 92.286621,41.622070"/>

            <!-- Layer 2/SmallFish/<Path> -->
            <Path StrokeThickness="1.000000" Stroke="#ff000000" StrokeMiterLimit="1.000000" Data="F1 M 98.286621,28.288574 C 98.286621,28.288574 91.953125,27.538574 91.286621,24.538574"/>

            <!-- Layer 2/SmallFish/<Path> -->
            <Path StrokeThickness="1.000000" Stroke="#ff000000" StrokeMiterLimit="1.000000" Data="F1 M 91.953125,22.788574 C 91.703125,23.455078 90.036621,24.705078 88.703125,24.038574"/>
          </Canvas>
        </Viewbox>
      </Grid.Resources>

      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="Auto" />
        <ColumnDefinition Width="300" />
      </Grid.ColumnDefinitions>

      <StackPanel Grid.IsSharedSizeScope="True" Margin="0,0,10,0">

        <Grid Margin="3,10,3,10">
          <Grid.ColumnDefinitions>
            <ColumnDefinition SharedSizeGroup="Label" Width="Auto" />
            <ColumnDefinition SharedSizeGroup="Slider" Width="Auto" />
          </Grid.ColumnDefinitions>

          <Label Target="{Binding ElementName=EffectContent}">Content</Label>
          <ComboBox Style="{StaticResource ContentComboBox}" Grid.Column="1" Name="EffectContent" SelectionChanged="ChangeEffectContent">
            <ComboBoxItem Content="Text" IsSelected="True" />
            <ComboBoxItem Content="Image" />
            <ComboBoxItem Content="Vector" />
          </ComboBox>
        </Grid>

        <Expander Style="{StaticResource EffectExpander}">
          <Expander.Header>
            <CheckBox Name="DropShadowEnabled" Content="Drop Shadow" Checked="EnableDropShadow" Unchecked="DisableDropShadow" />
          </Expander.Header>

          <StackPanel>
            <!--<Grid>
            <Grid.ColumnDefinitions>
              <ColumnDefinition SharedSizeGroup="Label" Width="Auto" />
              <ColumnDefinition SharedSizeGroup="Slider" Width="Auto" />
            </Grid.ColumnDefinitions>

            <Label Target="{Binding ElementName=DropShadowDistance}">Distance</Label>
            <Slider Grid.Column="1" Name="DropShadowDistance" Minimum="0" Maximum="25" Value="0"/>
          </Grid>-->

            <Grid>
              <Grid.ColumnDefinitions>
                <ColumnDefinition SharedSizeGroup="Label" Width="Auto" />
                <ColumnDefinition SharedSizeGroup="Slider" Width="Auto" />
              </Grid.ColumnDefinitions>

              <Label Target="{Binding ElementName=DropShadowOpacity}">Opacity</Label>
              <Slider IsSnapToTickEnabled="False" Grid.Column="1" Name="DropShadowOpacity" Minimum="0" Maximum="1" Value=".75"/>
            </Grid>

            <Grid>
              <Grid.ColumnDefinitions>
                <ColumnDefinition SharedSizeGroup="Label" Width="Auto" />
                <ColumnDefinition SharedSizeGroup="Slider" Width="Auto" />
              </Grid.ColumnDefinitions>

              <Label Target="{Binding ElementName=DropShadowSoftness}">Softness</Label>
              <Slider Grid.Column="1" Name="DropShadowSoftness" Minimum="0" Maximum="1.1" TickFrequency=".1" Value="1"/>
            </Grid>

            <Grid>
              <Grid.ColumnDefinitions>
                <ColumnDefinition SharedSizeGroup="Label" Width="Auto" />
                <ColumnDefinition SharedSizeGroup="Slider" Width="Auto" />
              </Grid.ColumnDefinitions>

              <Label Target="{Binding ElementName=DropShadowShadowDepth}">Depth</Label>
              <Slider Grid.Column="1" Name="DropShadowShadowDepth" Minimum="0" Maximum="25" Value="20"/>
            </Grid>

            <!--<Grid>
            <Grid.ColumnDefinitions>
              <ColumnDefinition SharedSizeGroup="Label" Width="Auto" />
              <ColumnDefinition SharedSizeGroup="Slider" Width="Auto" />
            </Grid.ColumnDefinitions>

            <Label Target="{Binding ElementName=DropShadowNoise}">Noise</Label>
            <Slider Grid.Column="1" Name="DropShadowNoise" Minimum="0" Maximum="25" Value="0"/>
          </Grid>-->

            <Grid>
              <Grid.ColumnDefinitions>
                <ColumnDefinition SharedSizeGroup="Label" Width="Auto" />
                <ColumnDefinition SharedSizeGroup="Slider" Width="Auto" />
              </Grid.ColumnDefinitions>

              <Label Target="{Binding ElementName=DropShadowDirection}">Direction</Label>
              <Slider TickFrequency="5" Grid.Column="1" Name="DropShadowDirection" Minimum="0" Maximum="360" Value="45"/>
            </Grid>

            <Grid>
              <Grid.ColumnDefinitions>
                <ColumnDefinition SharedSizeGroup="Label" Width="Auto" />
                <ColumnDefinition SharedSizeGroup="Slider" Width="Auto" />
              </Grid.ColumnDefinitions>

              <Label Target="{Binding ElementName=DropShadowColor}">Color</Label>
              <ComboBox Grid.Column="1" Name="DropShadowColor">
                <ComboBox.Resources>
                  <Style TargetType="{x:Type ComboBoxItem}">
                    <Setter Property="ContentTemplate">
                      <Setter.Value>
                        <DataTemplate DataType="{x:Type Color}">
                          <Border MinHeight="15" MinWidth="80" HorizontalAlignment="Center">
                            <Border.Background>
                              <SolidColorBrush Color="{Binding Content, Path=.}" Opacity="1" />
                            </Border.Background>
                          </Border>
                        </DataTemplate>
                      </Setter.Value>
                    </Setter>
                  </Style>
                </ComboBox.Resources>
                <ComboBoxItem Content="{x:Static Colors.Black}" IsSelected="True" />
                <ComboBoxItem Content="{x:Static Colors.White}" />
                <ComboBoxItem Content="{x:Static Colors.Red}" />
                <ComboBoxItem Content="{x:Static Colors.Blue}" />
                <ComboBoxItem Content="{x:Static Colors.Green}" />
                <ComboBoxItem Content="{x:Static Colors.BlanchedAlmond}" />
                <ComboBoxItem Content="{x:Static Colors.Violet}" />
                <ComboBoxItem Content="{x:Static Colors.Yellow}" />
                <ComboBoxItem Content="{x:Static Colors.Purple}" />
              </ComboBox>
            </Grid>
          </StackPanel>
        </Expander>

        <Expander Style="{StaticResource EffectExpander}">
          <Expander.Header>
            <CheckBox Name="BlurEnabled" Content="Blur" Checked="EnableBlur" Unchecked="DisableBlur" />
          </Expander.Header>

          <StackPanel>
            <Grid>
              <Grid.ColumnDefinitions>
                <ColumnDefinition SharedSizeGroup="Label" Width="Auto" />
                <ColumnDefinition SharedSizeGroup="Slider" Width="Auto" />
              </Grid.ColumnDefinitions>

              <Label Target="{Binding ElementName=BlurRadius}">Radius</Label>
              <Slider Grid.Column="1" Name="BlurRadius" Minimum="0" Maximum="10" TickFrequency=".25" Value="7"/>
            </Grid>
          </StackPanel>
        </Expander>

        <!-- 
        <Expander Style="{StaticResource EffectExpander}">
        <Expander.Header>
          <CheckBox Name="BevelEnabled" Content="Bevel" />
        </Expander.Header>

        <StackPanel>
          <Grid>
            <Grid.ColumnDefinitions>
              <ColumnDefinition SharedSizeGroup="Label" Width="Auto" />
              <ColumnDefinition SharedSizeGroup="Slider" Width="Auto" />
            </Grid.ColumnDefinitions>

            <Label Target="{Binding ElementName=BevelWidth}">Width</Label>
            <Slider Grid.Column="1" Name="BevelWidth" Minimum="0" Maximum="100" Value="0"/>
          </Grid>
        </StackPanel>
      </Expander> 



        <Expander Style="{StaticResource EffectExpander}">
          <Expander.Header>
            <CheckBox Name="EmbossEnabled" Content="Emboss" />
          </Expander.Header>

          <StackPanel>
            <Grid>
              <Grid.ColumnDefinitions>
                <ColumnDefinition SharedSizeGroup="Label" Width="Auto" />
                <ColumnDefinition SharedSizeGroup="Slider" Width="Auto" />
              </Grid.ColumnDefinitions>

              <Label Target="{Binding ElementName=EmbossLightAngle}">Angle</Label>
              <Slider Grid.Column="1" Name="EmbossLightAngle" Minimum="0" Maximum="100" Value="0"/>
            </Grid>
          </StackPanel>
        </Expander>

        <Expander Style="{StaticResource EffectExpander}">
          <Expander.Header>
            <CheckBox Name="OuterGlowEnabled" Content="Outer Glow" />
          </Expander.Header>

          <StackPanel>
            <Grid>
              <Grid.ColumnDefinitions>
                <ColumnDefinition SharedSizeGroup="Label" Width="Auto" />
                <ColumnDefinition SharedSizeGroup="Slider" Width="Auto" />
              </Grid.ColumnDefinitions>

              <Label Target="{Binding ElementName=OuterGlowGlowSize}">Glow Size</Label>
              <Slider Grid.Column="1" Name="OuterGlowGlowSize" Minimum="0" Maximum="100" Value="0"/>
            </Grid>

            <Grid>
              <Grid.ColumnDefinitions>
                <ColumnDefinition SharedSizeGroup="Label" Width="Auto" />
                <ColumnDefinition SharedSizeGroup="Slider" Width="Auto" />
              </Grid.ColumnDefinitions>

              <Label Target="{Binding ElementName=OuterGlowNoise}">Noise</Label>
              <Slider Grid.Column="1" Name="OuterGlowNoise" Minimum="0" Maximum="100" Value="0"/>
            </Grid>

            <Grid>
              <Grid.ColumnDefinitions>
                <ColumnDefinition SharedSizeGroup="Label" Width="Auto" />
                <ColumnDefinition SharedSizeGroup="Slider" Width="Auto" />
              </Grid.ColumnDefinitions>

              <Label Target="{Binding ElementName=OuterGlowOpacity}">Opacity</Label>
              <Slider Grid.Column="1" Name="OuterGlowOpacity" Minimum="0" Maximum="100" Value="0"/>
            </Grid>

            <Grid>
              <Grid.ColumnDefinitions>
                <ColumnDefinition SharedSizeGroup="Label" Width="Auto" />
                <ColumnDefinition SharedSizeGroup="Slider" Width="Auto" />
              </Grid.ColumnDefinitions>

              <Label Target="{Binding ElementName=OuterGlowColor}">Color</Label>
              <ComboBox Grid.Column="1" Name="OuterGlowColor">
                <ComboBoxItem Content="{x:Static Colors.Black}" IsSelected="True" />
                <ComboBoxItem Content="{x:Static Colors.White}" />
                <ComboBoxItem Content="{x:Static Colors.Red}" />
                <ComboBoxItem Content="{x:Static Colors.Blue}" />
                <ComboBoxItem Content="{x:Static Colors.Green}" />
              </ComboBox>
            </Grid>
          </StackPanel>
        </Expander>-->

        <Expander Style="{StaticResource EffectExpander}">
          <Expander.Header>
            <CheckBox Name="ReflectionEnabled" Content="Reflection" />
          </Expander.Header>

          <StackPanel>
            <Grid>
              <Grid.ColumnDefinitions>
                <ColumnDefinition SharedSizeGroup="Label" Width="Auto" />
                <ColumnDefinition SharedSizeGroup="Slider" Width="Auto" />
              </Grid.ColumnDefinitions>

              <Label Target="{Binding ElementName=ReflectionHeight}">Height</Label>
              <Slider IsSnapToTickEnabled="False" Grid.Column="1" Name="ReflectionHeight" Minimum="-2" Maximum="-.25" Value="-.5">
                <Slider.LayoutTransform>
                  <ScaleTransform ScaleX="-1" />
                </Slider.LayoutTransform>
              </Slider>
            </Grid>
          </StackPanel>
        </Expander>
      </StackPanel>

      <Grid HorizontalAlignment="Stretch" VerticalAlignment="Center" Grid.Column="1">

        <ContentControl Name="GuineaPig" Style="{StaticResource GuineaPig}" Margin="50" Content="{StaticResource EffectsText}">
          <ContentControl.BitmapEffect>
            <BitmapEffectGroup x:Name="GuineaPigBitmapEffectGroup">
              <!-- These are hooked in code to enable the checkbox-->
              <!-- <BevelBitmapEffect x:Name="BevelEffect" BevelWidth="{Binding ElementName=BevelBevelWidth, Path=Value}" /> -->
              <!--BlurBitmapEffect x:Name="BlurEffect" Radius="{Binding ElementName=BlurRadius, Path=Value}" /-->
              <!-- DropShadowBitmapEffect x:Name="DropShadowEffect" Color="{Binding ElementName=DropShadowColor, Path=SelectedItem.Content}" Direction="{Binding ElementName=DropShadowDirection, Path=Value}" Opacity="{Binding ElementName=DropShadowOpacity, Path=Value}" ShadowDepth="{Binding ElementName=DropShadowShadowDepth, Path=Value}" Softness="{Binding ElementName=DropShadowSoftness, Path=Value}" Noise="{Binding ElementName=DropShadowNoise, Path=Value}" /-->
              <!-- <EmbossBitmapEffect x:Name="EmbossEffect" LightAngle="{Binding ElementName=EmbossLightAngle, Path=Value}" Relief="{Binding ElementName=EmbossRelief, Path=Value}" />
            <OuterGlowBitmapEffect x:Name="OuterGlowEffect" GlowColor="{Binding ElementName=OuterGlowColor, Path=SelectedItem}" GlowSize="{Binding ElementName=OuterGlowGlowSize, Path=Value}" Noise="{Binding ElementName=OuterGlowNoise, Path=Value}" Opacity="{Binding ElementName=OuterGlowOpacity, Path=Value}" /> -->
            </BitmapEffectGroup>
          </ContentControl.BitmapEffect>
        </ContentControl>

        <Rectangle Height="{Binding ElementName=GuineaPig, Path=ActualHeight}" Width="{Binding ElementName=GuineaPig, Path=ActualWidth}" RenderTransformOrigin="0, 1" Visibility="{Binding ElementName=ReflectionEnabled, Path=IsChecked, Converter={StaticResource BoolToVisibility}}">
          <Rectangle.Fill>
            <VisualBrush Visual="{Binding ElementName=GuineaPig}" Stretch="None" />
          </Rectangle.Fill>
          <Rectangle.RenderTransform>
            <TransformGroup>
              <ScaleTransform ScaleY="{Binding ElementName=ReflectionHeight, Path=Value}" />
            </TransformGroup>
          </Rectangle.RenderTransform>
          <Rectangle.OpacityMask>
            <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
              <LinearGradientBrush.GradientStops>
                <GradientStop Color="#0000" Offset="0" />
                <GradientStop Color="#1000" Offset=".25" />
                <GradientStop Color="#3000" Offset=".75" />
                <GradientStop Color="#6000" Offset="1" />
              </LinearGradientBrush.GradientStops>
            </LinearGradientBrush>
          </Rectangle.OpacityMask>
        </Rectangle>
      </Grid>
    </Grid>
  </Viewbox>
</Page>
