<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head profile="http://gmpg.org/xfn/11">



	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>SpanningStackPanel-- Nick Thuesen</title>
	
	
	<meta name="generator" content="WordPress 2.1"><!-- leave this for stats --> 
	<link rel="stylesheet" href="SpanningStackPanel--%20Nick%20Thuesen_files/style.css" type="text/css" media="screen">
	<link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="http://www.nickthuesen.com/?feed=rss2">
	<link rel="alternate" type="text/xml" title="RSS .92" href="http://www.nickthuesen.com/?feed=rss">
	<link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="http://www.nickthuesen.com/?feed=atom">
	<link rel="pingback" href="http://www.nickthuesen.com/xmlrpc.php">

		<link rel="archives" title="August 2007" href="http://www.nickthuesen.com/?m=200708">
	<link rel="archives" title="July 2007" href="http://www.nickthuesen.com/?m=200707">
	<link rel="archives" title="June 2007" href="http://www.nickthuesen.com/?m=200706">
	<link rel="archives" title="May 2007" href="http://www.nickthuesen.com/?m=200705">
	<link rel="archives" title="April 2007" href="http://www.nickthuesen.com/?m=200704">
	<link rel="archives" title="March 2007" href="http://www.nickthuesen.com/?m=200703">
	<link rel="archives" title="February 2007" href="http://www.nickthuesen.com/?m=200702">
		<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.nickthuesen.com/xmlrpc.php?rsd"><!-- Google Analytics Tracking by Google Analyticator: http://cavemonkey50.com/code/google-analyticator/ -->

	<script src="SpanningStackPanel--%20Nick%20Thuesen_files/urchin.js" type="text/javascript"></script>
	<script src="SpanningStackPanel--%20Nick%20Thuesen_files/ga_external-links.js" type="text/javascript"></script>
	<script type="text/javascript">
		onContent(function() {
		urchin = new urchin();
		urchin.trackDownload = "";
		urchin.trackLinks();
		} );
		_uacct="UA-2370374-1";  urchinTracker();
	</script>



<script language="JavaScript">
<!-- Begin
function codePopUp(URL) {
day = new Date();
id = day.getTime();
eval("page" + id + " = window.open(URL, '" + id + "', 'toolbar=0,scrollbars=1,location=0,statusbar=0,menubar=0,resizable=1,width=700,height=550,left = 0,top = 0');");
}
// End -->
</script></head><body>

<div id="container">
	<div id="header"><div>
		<ul>
			<li>
	                     <table width="100%">
		                 <tbody><tr>    <td width="40"></td>
			                 <td align="center">
				             <a href="http://www.nickthuesen.com/?cat=1" class="on">Main</a>
			                 </td>
			                <td align="center" width="40">
				            <a href="http://www.nickthuesen.com/wp-rss2.php"><img src="SpanningStackPanel--%20Nick%20Thuesen_files/rss.gif" border="0">
                                           </a>
			                </td>
		                 </tr>
	                     </tbody></table>
                        </li>

			<li>
	                     <table width="100%">
		                 <tbody><tr>    <td width="40"></td>
			                 <td align="center">
				             <a href="http://www.nickthuesen.com/?cat=2" class="off">WPF</a>
			                 </td>
			                <td align="center" width="40">
				            <a href="http://www.nickthuesen.com/wp-rss2.php?cat=2"><img src="SpanningStackPanel--%20Nick%20Thuesen_files/rss.gif" border="0">
                                           </a>
			                </td>
		                 </tr>
	                     </tbody></table>
                        </li>


			<li>
	                     <table width="100%">
		                 <tbody><tr>    <td width="40"></td>
			                 <td align="center">
				             <a href="http://www.nickthuesen.com/?cat=3" class="off">Friend/Fam</a>
			                 </td>
			                <td align="center" width="40">
				            <a href="http://www.nickthuesen.com/wp-rss2.php?cat=3"><img src="SpanningStackPanel--%20Nick%20Thuesen_files/rss.gif" border="0">
                                           </a>
			                </td>
		                 </tr>
	                     </tbody></table>
                        </li>


			<li>
	                     <table width="100%">
		                 <tbody><tr>    <td width="40"></td>
			                 <td align="center">
				             <a href="http://www.nickthuesen.com/?cat=4" class="off">Rants</a>
			                 </td>
			                <td align="center" width="40">
				            <a href="http://www.nickthuesen.com/wp-rss2.php?cat=4"><img src="SpanningStackPanel--%20Nick%20Thuesen_files/rss.gif" border="0">
                                           </a>
			                </td>
		                 </tr>
	                     </tbody></table>
                        </li>
		</ul>
		<h1><a href="http://www.nickthuesen.com/">Nick Thuesen</a></h1>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The Original New York Hickster	</div>
</div>

					<div id="content">
		<div id="right">
				
		<div class="post" id="post-15">
			<h1><a href="http://www.nickthuesen.com/?p=15" rel="bookmark" title="Permanent Link to SpanningStackPanel">SpanningStackPanel</a></h1>
			<small>March 12th, 2007 <!-- by Nick --></small>
			
			<div class="entry">
				<p><strong>05/21/07
EDIT: Fil Fortes was kind enough to point out I’ve put up a
non-bindable panel. If you want a good version of this panel you should
check out: <a href="http://fortes.com/2007/05/07/uniformpanel/" target="_blank">http://fortes.com/2007/05/07/uniformpanel/</a></strong></p>
<p>I’m guessing the following scenario hasn’t only happened to me.</p>
<p>You know how a Grid and it’s children will automatically fill all available space?</p>
<p><img src="SpanningStackPanel--%20Nick%20Thuesen_files/SpanningStack01.jpg" border="0"></p>
<p><img src="SpanningStackPanel--%20Nick%20Thuesen_files/SpanningStack02.jpg" border="0"></p>
<p>How many times have you mistakenly attempted to ask StackPanel to do
the same thing? For example: I want to have six buttons span the width
of my window.</p>
<p><img src="SpanningStackPanel--%20Nick%20Thuesen_files/SpanningStack03.jpg" border="0"></p>
<p><img src="SpanningStackPanel--%20Nick%20Thuesen_files/SpanningStack04.jpg" border="0"></p>
<p>Doh!  I’ve done this more times than I’d like to admit.  </p>
<p>So your probably thinking to yourself, “So just put them in a Grid
and create columns you fool! It’s easy!” And you’re right, that’s what
I usually end up doing. But what if you’re dynamically adding/removing
objects to your Grid? Then you have to create the rows/columns in code
each time a child is added or removed. What a pain! Using a Grid’s
Columns/Rows really falls apart if you need this layout to occur in an
ItemsControl and your setting the ItemsControl.ItemsPanel property! Now
you’re screwed and you’re going to have to write a custom control…like
I did.</p>
<p><img src="SpanningStackPanel--%20Nick%20Thuesen_files/SpanningStack05.jpg" border="0"></p>
<p><img src="SpanningStackPanel--%20Nick%20Thuesen_files/SpanningStack06.jpg" border="0"></p>
<p>If you were able to follow the ramblings of that last paragraph then
you’ve probably figured how I built SpanningStackPanel. All I did was
inherit from Grid and then, depending on Orientation and FlowDirection,
I add Columns/Rows when a UIElement is added/removed to the Children
collection.</p>
<p><strong>NOTE:</strong>  I remember <a href="http://blogs.msdn.com/okoboji/" target="_blank">Kevin Moore</a>
once telling me it’s not worth the overhead of inheriting from anything
other than Panel, but in this case I felt it was easier to let Grid do
the work it was already programmed to do. This way I didn’t have to
mess with any of that ArrangeOverride or MeasureOverride nonsense one
usually has when building a custom panel.</p>
<p>There were a couple of things I did to make the panel mimic some of
StackPanel’s behavior. Like I mentioned before I have Orientation and
FlowDirection properties that control the layout as seen below.</p>
<p><img src="SpanningStackPanel--%20Nick%20Thuesen_files/SpanningStack07.jpg" border="0"></p>
<p><img src="SpanningStackPanel--%20Nick%20Thuesen_files/SpanningStack08.jpg" border="0"></p>
<p><img src="SpanningStackPanel--%20Nick%20Thuesen_files/SpanningStack09.jpg" border="0"></p>
<p>And lastly, to mimic Grid’s behavior I don’t give a control more or
less space if it has a hard set Width/Height property. The following
screenshot shows the green button with it’s Width property set to 25px.</p>
<p><img src="SpanningStackPanel--%20Nick%20Thuesen_files/SpanningStack10.jpg" border="0"></p>
<p>So that’s it!  A panel that acts like a StackPanel while laying out like a Grid.  </p>
<p>You can snag the source from here if you want to play around with it.</p>
<p><a href="http://www.nickthuesen.com/BlogResources/070312-SpanningStackPanel/SpanningStackPanelExample.zip">SpanningStackPanelExample Source</a></p>
<p>At some point I’ll probably come back to this control and change the
way it determines if a control has a set height/width. I don’t like the
way I currently implemented it but it works for now. Maybe I’ll come up
with a better name then SpanningStackPanel too.
SuperUltraliciousMaskedAvengerPanel…that has a nice ring to it.</p>
			</div>
	
			<p class="postmetadata">Posted in <a href="http://www.nickthuesen.com/?cat=1" title="View all posts in Main" rel="category tag">Main</a>,  <a href="http://www.nickthuesen.com/?cat=2" title="View all posts in WPF" rel="category tag">WPF</a> <strong>|</strong>   </p>
		</div>

	
<!-- You can start editing here. -->

	<h3 id="comments">6 Responses to “SpanningStackPanel”</h3> 

	<ol class="commentlist">

	
		<li class="alt" id="comment-291">
			<cite><a href="http://www.kodasoftware.com/" rel="external nofollow">Tor Langlo</a></cite> Says:
						<br>

			<small class="commentmetadata"><a href="#comment-291" title="">March 12th, 2007 at 11:27 am</a> </small>

			<p>Hi Nick,</p>
<p>Maybe it’s a UniformStackPanel? Or maybe not, since you showed that
are are exceptions to the uniformity. Maybe MostlyUniformStackPanel? <img src="SpanningStackPanel--%20Nick%20Thuesen_files/icon_smile.gif" alt=":-)" class="wp-smiley"> </p>
<p>Tor.</p>

		</li>

	
	
		<li class="" id="comment-318">
			<cite><a href="http://designerslove.net/?p=27" rel="external nofollow">designerslove.net » Blog Archive » Nick Thuesen’s SuperUltraliciousMaskedAvengerPanel( aka Spanning Stackpanel)</a></cite> Says:
						<br>

			<small class="commentmetadata"><a href="#comment-318" title="">March 13th, 2007 at 12:11 pm</a> </small>

			<p>[…] <a href="http://www.nickthuesen.com/?p=15" rel="nofollow">http://www.nickthuesen.com/?p=15</a> […]</p>

		</li>

	
	
		<li class="alt" id="comment-321">
			<cite><a href="http://lfoust.wordpress.com/2007/03/13/a-new-custom-wpf-panel-spanningstackpanel/" rel="external nofollow">A New Custom WPF Panel: SpanningStackPanel « Luke Foust’s Thoughts</a></cite> Says:
						<br>

			<small class="commentmetadata"><a href="#comment-321" title="">March 13th, 2007 at 1:15 pm</a> </small>

			<p>[…]
13, 2007 at 2:15 pm · Filed under WPF Nick Thuesen has just published a
new custom WPF panel that functions like a stack panel but takes up the
entire space provided to it. I love to see new […]</p>

		</li>

	
	
		<li class="" id="comment-322">
			<cite><a href="http://mbrownchicago.spaces.live.com/" rel="external nofollow">Mike Brown</a></cite> Says:
						<br>

			<small class="commentmetadata"><a href="#comment-322" title="">March 13th, 2007 at 1:31 pm</a> </small>

			<p>Wow…that solves a problem I had with getting my PowerGrid to fill its parent. Great job!</p>

		</li>

	
	
		<li class="alt" id="comment-326">
			<cite><a href="http://rrelyea.spaces.live.com/" rel="external nofollow">Rob Relyea</a></cite> Says:
						<br>

			<small class="commentmetadata"><a href="#comment-326" title="">March 13th, 2007 at 3:15 pm</a> </small>

			<p>Nick-<br>
UniformGrid can do some of this…not the last bit though (keeping the size of the child if it is hard coded…)</p>

		</li>

	
	
		<li class="" id="comment-332">
			<cite>Nick</cite> Says:
						<br>

			<small class="commentmetadata"><a href="#comment-332" title="">March 13th, 2007 at 4:27 pm</a> </small>

			<p>I
had looked into UniformGrid back when I first ran into a similar issue.
And you’re right, it was the not having the row/column fit the
width/height of the child that ultimately led me to this panel. I also
didn’t like the idea having to writ Rows=1 or Columns=1 in code to
switch orientation. Not that big of a deal…but it feels…dirty. Hee.</p>
<p>If I was smart, I’d add a NumRows/NumColumns to
SwappingStackPanel…but this is all I needed it to do at the moment.
Maybe in the future. (Plus it would suddenly mimic a control in Times
Reader and then all my secrets would be naked for the world to oggle!
OH THE THOUGHT OF IT!!)</p>

		</li>

	
	
	</ol>

 


<h3 id="respond">Leave a Reply</h3>


<form action="http://www.nickthuesen.com/wp-comments-post.php" method="post" id="commentform">


<p><input name="author" id="author" value="" size="22" tabindex="1" type="text">
<label for="author"><small>Name (required)</small></label></p>

<p><input name="email" id="email" value="" size="22" tabindex="2" type="text">
<label for="email"><small>Mail (will not be published) (required)</small></label></p>

<p><input name="url" id="url" value="" size="22" tabindex="3" type="text">
<label for="url"><small>Website</small></label></p>


<!--<p><small><strong>XHTML:</strong> You can use these tags: &lt;a href=&quot;&quot; title=&quot;&quot;&gt; &lt;abbr title=&quot;&quot;&gt; &lt;acronym title=&quot;&quot;&gt; &lt;b&gt; &lt;blockquote cite=&quot;&quot;&gt; &lt;code&gt; &lt;em&gt; &lt;i&gt; &lt;strike&gt; &lt;strong&gt; </small></p>-->

<p><textarea name="comment" id="comment" cols="50" rows="10" tabindex="4"></textarea></p>

<p><input name="submit" id="submit" tabindex="5" value="Submit Comment" type="submit">
<input name="comment_post_ID" value="15" type="hidden">
</p>

</form>


	
		<p align="center"> &nbsp; </p>

	
		</div>	
		<div id="left">
		
		<ul>
    <!--  START PAGES LIST  
		<h2>Pages</h2>
    <ul>
					<li class="page_item"><a href="http://www.nickthuesen.com/?page_id=18" title="Nick&#039;s Twisted Perspectives on Styles and Templates">Nick's Twisted Perspectives on Styles and Templates</a></li>
					</ul>-->

    <!--  END PAGES LIST  -->
    
    <!--  START CATEGORIES  
    <h2>Categories</h2>
      <ul>
        	<li><a href="http://www.nickthuesen.com/?cat=3" title="View all posts filed under Friends &amp; Fam">Friends &amp; Fam</a>
</li>
	<li><a href="http://www.nickthuesen.com/?cat=1" title="View all posts filed under Main">Main</a>
</li>
	<li><a href="http://www.nickthuesen.com/?cat=4" title="View all posts filed under Rants">Rants</a>
</li>
	<li><a href="http://www.nickthuesen.com/?cat=2" title="View all posts filed under WPF">WPF</a>
</li>
      </ul>-->
    <!--  END CATEGORIES  -->
    
    <!--  START SEARCH  -->
    <h2>Search</h2>
      
          <form id="searchform" method="get" action="/index.php">
          
            <input name="s" id="s" size="15" type="text"><br>
            <input value="Search" type="submit">
          
          </form>
     
    <!--  END SEARCH  -->
    
    <!--  START ARCHIVES  -->
    <h2>Archives</h2>
      <ul>
        	<li><a href="http://www.nickthuesen.com/?m=200708" title="August 2007">August 2007</a></li>
	<li><a href="http://www.nickthuesen.com/?m=200707" title="July 2007">July 2007</a></li>
	<li><a href="http://www.nickthuesen.com/?m=200706" title="June 2007">June 2007</a></li>
	<li><a href="http://www.nickthuesen.com/?m=200705" title="May 2007">May 2007</a></li>
	<li><a href="http://www.nickthuesen.com/?m=200704" title="April 2007">April 2007</a></li>
	<li><a href="http://www.nickthuesen.com/?m=200703" title="March 2007">March 2007</a></li>
	<li><a href="http://www.nickthuesen.com/?m=200702" title="February 2007">February 2007</a></li>
      </ul>
    <!--  END ARCHIVES  -->
    
    <!--  START META  
    <h2>Meta</h2>
      <ul>
                <li><a href="http://www.nickthuesen.com/wp-login.php">Login</a></li>
        <li><a href="feed:http://www.nickthuesen.com/?feed=rss2" title="Syndicate this site using RSS"><abbr title="Really Simple Syndication">RSS</abbr></a></li>
        <li><a href="feed:http://www.nickthuesen.com/?feed=comments-rss2" title="The latest comments to all posts in RSS">Comments <abbr title="Really Simple Syndication">RSS</abbr></a></li>
        <li><a href="http://validator.w3.org/check/referer" title="This page validates as XHTML 1.0 Transitional">Valid <abbr title="eXtensible HyperText Markup Language">XHTML</abbr></a></li>
        <li><a href="http://gmpg.org/xfn/"><abbr title="XHTML Friends Network">XFN</abbr></a></li>
        <li><a href="http://wordpress.org/" title="Powered by WordPress, state-of-the-art semantic personal publishing platform."><abbr title="WordPress">WP</abbr></a></li>
              </ul>-->
    <!--  END META  -->

    <!--  START LINKS LIST -->  
	<h2>WPF Blogs</h2>
	<ul>
    <li><a href="http://www.beacosta.com/">Beatriz Costa</a></li>
<li><a href="http://joshsmithonwpf.wordpress.com/">Josh Smith</a></li>
<li><a href="http://blogs.msdn.com/okoboji/">Kevin Moore</a></li>
<li><a href="http://designerslove.net/">Nathan Dunlap</a></li>
<li><a href="http://www.notstatic.com/">Robby Ingebretsen</a></li>
	</ul>
    <!--  END LINKS LIST  -->

  </ul>
		
				
		</div>		
	</div>
</div>
<div id="footer">
Checkout <a href="http://www.nickthuesen.com/">www.nickthuesen.com</a> - It's a really great site.</div></body></html>