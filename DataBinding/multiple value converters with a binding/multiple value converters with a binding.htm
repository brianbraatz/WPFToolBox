<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><title>Alan Gasperini's blog : Using multiple value converters with a binding</title>
 




<meta name="description" content="Data binding is an extrememly cool avalon feature that lets you automatically populate UI with data. Value converters supply a generic way to adapt a model to the view without having to write custom code. For instance, it is fairly common to set visibility">
<meta name="GENERATOR" content="CommunityServer 2.1 SP1 (Build: 61025.2)">
<link rel="pingback" href="http://blogs.msdn.com/alanga/pingback.aspx">
<link rel="stylesheet" href="multiple%20value%20converters%20with%20a%20binding_files/style.css" type="text/css" media="screen">
<link rel="stylesheet" href="multiple%20value%20converters%20with%20a%20binding_files/print.htm" type="text/css" media="print">
<link rel="stylesheet" href="multiple%20value%20converters%20with%20a%20binding_files/sidebar_left.css" type="text/css" media="screen">
<link rel="shortcut icon" type="image/ico" href="http://blogs.msdn.com/favicon.ico">
<link rel="alternate" type="application/rss+xml" title="Alan Gasperini's blog (RSS 2.0)" href="http://blogs.msdn.com/alanga/rss.xml">
<link rel="alternate" type="application/atom+xml" title="Alan Gasperini's blog (Atom 1.0)" href="http://blogs.msdn.com/alanga/atom.xml">
<link rel="alternate" type="application/rss+xml" title="Using multiple value converters with a binding Comment RSS (RSS 2.0)" href="http://blogs.msdn.com/alanga/commentrss.aspx?PostID=661635">

	<script src="multiple%20value%20converters%20with%20a%20binding_files/global.js" type="text/javascript"></script>
<style>
.DoNotDisplay { display: none; }
</style></head><body>
<form name="aspnetForm" method="post" action="/alanga/archive/2006/07/10/661635.aspx" onsubmit="javascript:return WebForm_OnSubmit();" id="aspnetForm">
<div>
<input name="__EVENTTARGET" id="__EVENTTARGET" value="" type="hidden">
<input name="__EVENTARGUMENT" id="__EVENTARGUMENT" value="" type="hidden">
<input name="__VIEWSTATE" id="__VIEWSTATE" value="/wEPDwUKLTMyNjg0MDc1MWQYAQUeX19Db250cm9sc1JlcXVpcmVQb3N0QmFja0tleV9fFgEFI2N0bDAwJF8kY3RsMDAkXyRicyRfJHdzJF8kU2VhcmNoQm94rkRXbV1z5ohWybmugg6l5bfTy3M=" type="hidden">
</div>

<script type="text/javascript">
<!--
var theForm = document.forms['aspnetForm'];
if (!theForm) {
    theForm = document.aspnetForm;
}
function __doPostBack(eventTarget, eventArgument) {
    if (!theForm.onsubmit || (theForm.onsubmit() != false)) {
        theForm.__EVENTTARGET.value = eventTarget;
        theForm.__EVENTARGUMENT.value = eventArgument;
        theForm.submit();
    }
}
// -->
</script>


<script src="multiple%20value%20converters%20with%20a%20binding_files/WebResource_002.js" type="text/javascript"></script>

<script language="javascript" type="text/javascript" src="multiple%20value%20converters%20with%20a%20binding_files/Telligent_Modal.js"></script><script language="javascript" type="text/javascript">
// <![CDATA[
Telligent_Modal.Configure('/utility/loading.htm',['Modal'],['ModalTitle'],['ModalClose'],['ModalContent'],['ModalFooter'],['ModalResize'],['ModalMask'],100);
// ]]>
</script><script language="javascript" type="text/javascript">
var RatingControlAJAX = {
"SaveRating":function(id,p0,cb){return Ajax_CallBack('CommunityServer.Blogs.Controls.BlogRatePost',id,'SaveRating',[p0],cb,0,0,0,1);}};
</script><script language="javascript" type="text/javascript">
var ThreadSubscribeLinkButton = {
"ToggleEmailReplies":function(id,p0,cb){return Ajax_CallBack('CommunityServer.Controls.ThreadSubscribeLinkButton',id,'ToggleEmailReplies',[p0],cb,0,0,0,0);}};
</script><script type="text/javascript" src="multiple%20value%20converters%20with%20a%20binding_files/ratingcontrol.js"></script><script language="JavaScript" type="text/javascript">var ctl00___ctl00___ctl01___DetailedSubBar___BlogThreadButton_trackWorking = false;var ctl00___ctl00___ctl01___DetailedSubBar___BlogThreadButton_trackStatus = false;function updateSubscriptionText() {if(ctl00___ctl00___ctl01___DetailedSubBar___BlogThreadButton_trackStatus == true) {document.getElementById('ctl00___ctl00___ctl01___DetailedSubBar___BlogThreadButton').innerHTML = 'Stop sending me email alerts for this post';} else {document.getElementById('ctl00___ctl00___ctl01___DetailedSubBar___BlogThreadButton').innerHTML = 'Send me email alerts for new comments to this post';}}function toggleSubscription() {ctl00___ctl00___ctl01___DetailedSubBar___BlogThreadButton_trackWorking = true;document.getElementById('ctl00___ctl00___ctl01___DetailedSubBar___BlogThreadButton').innerHTML = 'Updating email notifications...';ThreadSubscribeLinkButton.ToggleEmailReplies('ctl00___ctl00___ctl01___DetailedSubBar___BlogThreadButton',458537, toggleSubscriptionCallback);}function toggleSubscriptionCallback(response) {ctl00___ctl00___ctl01___DetailedSubBar___BlogThreadButton_trackWorking = false;if((response.error == null) && (response.value == true)) {if(ctl00___ctl00___ctl01___DetailedSubBar___BlogThreadButton_trackStatus == true) {ctl00___ctl00___ctl01___DetailedSubBar___BlogThreadButton_trackStatus = false;} else {ctl00___ctl00___ctl01___DetailedSubBar___BlogThreadButton_trackStatus = true;}updateSubscriptionText();} else {updateSubscriptionText();alert('An error happened while processing your request.  Please notify an administrator and try again later.');}}</script>
<script src="multiple%20value%20converters%20with%20a%20binding_files/WebResource.js" type="text/javascript"></script>
<script type="text/javascript">
<!--
function WebForm_OnSubmit() {
if (typeof(ValidatorOnSubmit) == "function" && ValidatorOnSubmit() == false) return false;
return true;
}
// -->
</script>

			
<div id="masthead">
	
		<div id="welcome" align="right">
			
					Signed in as <a href="http://blogs.msdn.com/user/EditProfile.aspx?ReturnUrl=/blogs/post.aspx?App=alanga&amp;y=2006&amp;m=07&amp;d=10&amp;PostID=661635">bbraatz</a>
 | <a id="ctl00___ctl00___duw1_rc1___logout" href="http://blogs.msdn.com/logout.aspx">Sign out</a>



				
			 | 
			<a id="ctl00___ctl00___duw1_Faq1" href="http://blogs.msdn.com/languages/en-US/docs/faq.aspx">Help</a>
		</div>
	
</div>
<div id="wrapper"><div id="container">
	<div id="header">
		
<div id="title">
	<h1><a id="ctl00___ctl00___bt___BlogTitle" class="headermaintitle" href="http://blogs.msdn.com/alanga/default.aspx">Alan Gasperini's blog</a></h1>
	<p id="tagline"></p>
</div>
<div id="SubscriptionsSideBar">
	
<div id="subscriptions">
<ul>
	<li><a id="ctl00___ctl00___bt___s___rss" href="http://blogs.msdn.com/alanga/rss.xml">RSS 2.0</a></li>
	<li><a id="ctl00___ctl00___bt___s___atom" href="http://blogs.msdn.com/alanga/atom.xml">Atom 1.0</a></li>
	<li><a id="ctl00___ctl00___bt___s___email" href="http://blogs.msdn.com/alanga/emailsubscriptions.aspx">Email alerts</a></li>
</ul>
</div>
 
 
</div>
<div id="nav">
	<ul>
	<li><a id="ctl00___ctl00___bt___home" href="http://blogs.msdn.com/alanga/default.aspx">Home</a></li>
	
	<li><a id="ctl00___ctl00___bt___Contactlink1" href="http://blogs.msdn.com/alanga/contact.aspx">Email</a></li>
	</ul>
</div>
	</div>
	<div id="contentwrapper">
		<div id="sidebar-a">
			
<div id="TasksSideBar">
	
</div>

<div id="SearchSideBar">
	
<div id="search">
	<h3>Search</h3>
	<input name="ctl00$_$ctl00$_$bs$_$ws$_$SearchBox" id="ctl00___ctl00___bs___ws___SearchBox" class="searchBox" onkeydown="KeyDownHandlerctl00___ctl00___bs___ws___SearchButton(event);" type="text">
	<a id="ctl00___ctl00___bs___ws___SearchButton" href="javascript:__doPostBack('ctl00$_$ctl00$_$bs$_$ws$_$SearchButton','')">Go</a>
</div><br>
</div>

<div id="TagSideBar">
	<h3>Tags</h3>
	<ul>
	<div class="SidebarTagCloud">
No tags have been created or used yet.</div>

	</ul>
</div>

<div id="NewsSideBar">
	
</div>

<div id="ArchiveSideBar">
	

<h3>Archives</h3>
<ul>

	<li><a href="http://blogs.msdn.com/alanga/archive/2006/07.aspx">July 2006 (1)</a></li>

	<li><a href="http://blogs.msdn.com/alanga/archive/2006/05.aspx">May 2006 (1)</a></li>

	<li><a href="http://blogs.msdn.com/alanga/archive/2006/01.aspx">January 2006 (1)</a></li>

</ul>

</div>

<div id="LinkSideBar">
	

</div></div>
		<div id="content"><div id="content2">
			
			




<div class="post">
	<div class="posthead">
		Monday, July 10, 2006 12:15 PM
		<a id="ctl00___ctl00___ctl01___Entry___AuthorLink" href="http://blogs.msdn.com/user/Profile.aspx?UserID=16736">AlanGa</a> 
		<h2>Using multiple value converters with a binding <span class="ratemenu" id="ctl00___ctl00___ctl01___Entry___Ratings" title="Not yet rated"><img title="Poor" src="multiple%20value%20converters%20with%20a%20binding_files/star-left-off.gif" align="absmiddle" border="0"><img title="Poor" src="multiple%20value%20converters%20with%20a%20binding_files/star-right-off.gif" align="absmiddle" border="0"><img title="Fair" src="multiple%20value%20converters%20with%20a%20binding_files/star-left-off.gif" align="absmiddle" border="0"><img title="Fair" src="multiple%20value%20converters%20with%20a%20binding_files/star-right-off.gif" align="absmiddle" border="0"><img title="Average" src="multiple%20value%20converters%20with%20a%20binding_files/star-left-off.gif" align="absmiddle" border="0"><img title="Average" src="multiple%20value%20converters%20with%20a%20binding_files/star-right-off.gif" align="absmiddle" border="0"><img title="Good" src="multiple%20value%20converters%20with%20a%20binding_files/star-left-off.gif" align="absmiddle" border="0"><img title="Good" src="multiple%20value%20converters%20with%20a%20binding_files/star-right-off.gif" align="absmiddle" border="0"><img title="Excellent" src="multiple%20value%20converters%20with%20a%20binding_files/star-left-off.gif" align="absmiddle" border="0"><img title="Excellent" src="multiple%20value%20converters%20with%20a%20binding_files/star-right-off.gif" align="absmiddle" border="0"></span><input value="0" id="ctl00___ctl00___ctl01___Entry___Ratings_Value" type="hidden"></h2>
	</div>
	<div class="postcontent">
		<p>Data
binding is an extrememly cool avalon feature that lets you
automatically populate UI with data.&nbsp; Value converters supply a
generic way to adapt a model to the view without having to write custom
code.&nbsp; For instance, it is fairly common to set visibility of
elements based on whether or not they should be enabled, and you can
data bind the visibility of your element to some bool property, and use
a BoolToVisibilityConverter to convert the bool to a visibility.</p>
<p>But what if you want a more complex binding - what if you only want
to show a listbox when the number of items is greater than zero?&nbsp;
Say you have an IntegerToBoolConverter, and a
BoolToVisibilityConverter, but you don't want to write a new
IntegerToVisibilityConverter.&nbsp; If you add a composing converter to
your value converter toolbox, you'll have a generic way to chain
converters together.</p>
<p><font face="Courier New"><font size="2">public class ComposingConverter : IValueConverter<br>{<br>&nbsp;&nbsp;private List&lt;IValueConverter&gt; converters = new List&lt;IValueConverter&gt;();<br>&nbsp;&nbsp;public List&lt;IValueConverter&gt; Converters<br>&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;get { return this.converters; }<br>&nbsp;&nbsp;}</font></font></p>
<p><font face="Courier New"><font size="2">&nbsp;&nbsp;public object Convert(object o, Type targetType, object parameter, CultureInfo culture)<br>&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;for (int i = 0; i &lt; this.converters.Count; i++)<br>&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;o = converters[i].Convert(o, targetType, parameter, culture);<br>&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;return o;<br>&nbsp;&nbsp;}</font></font></p>
<p><font face="Courier New"><font size="2">&nbsp;&nbsp;public object ConvertBack(object value, Type targetType, object parameter, CultureInfo culture)<br>&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;for (int i = this.converters.Count - 1; i &gt;= 0; i--)<br>&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;value = converters[i].ConvertBack(value, targetType, parameter, culture);<br>&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;return value;<br>&nbsp;&nbsp;}<br>&nbsp;}<br>}</font></font></p>
<p><font face="Courier New"><font face="Times New Roman" size="2">Then you would use this converter like so:</font></font></p>
<p><font face="Courier New"><font size="2">&lt;ComposingConverter&gt;<br>&nbsp;&lt;ComposingConverter.Converters&gt;<br>&nbsp;&nbsp;&lt;IntegerToBoolConverter/&gt;<br>&nbsp;&nbsp;&lt;BoolToVisibilityConverter/&gt;<br>&nbsp;&lt;/ComposingConverter.Converters&gt;<br>&lt;/ComposingConverter&gt;</font></font></p>
	</div>
	<div><span id="ctl00___ctl00___ctl01___Entry___InlineTagEditorPanel"></span><input name="ctl00$_$ctl00$_$ctl01$_$Entry$_$InlineTagEditorPanel" id="ctl00___ctl00___ctl01___Entry___InlineTagEditorPanel_State" value="nochange" type="hidden"></div>
		
</div>

<div class="postfoot">
	
<div id="postToolbar">
<h2 class="CommonSubTitle">Comment Notification</h2>
<p>
	
	<a href="javascript:toggleSubscription();" id="ctl00___ctl00___ctl01___DetailedSubBar___BlogThreadButton" trackingresourcename="Weblogs_UnTrack" nottrackingresourcename="Weblogs_Track" workingresourcename="Weblogs_TrackWorking">Send me email alerts for new comments to this post</a>
</p>
<p>
	Subscribe to this post's comments using
	<a id="ctl00___ctl00___ctl01___DetailedSubBar___CommentRssLink" href="http://blogs.msdn.com/alanga/commentrss.aspx?PostID=661635">RSS</a>
</p>
</div>

</div>

	<div id="comments">
	<h3>
	Comments
</h3>

	<p>No Comments</p>

	</div>





<div id="commentform">
<h3>Leave a Comment</h3>
<dl>
	
	<dt><label for="ctl00___ctl00___ctl01___form___tbUrl">Your URL</label> <em>(optional</em>)</dt>
	<dd><input name="ctl00$_$ctl00$_$ctl01$_$form$_$tbUrl" id="ctl00___ctl00___ctl01___form___tbUrl" class="smallbox" type="text"></dd>
	<dt><label for="ctl00___ctl00___ctl01___form___tbComment">Comments</label> <em>(required)</em><span id="ctl00___ctl00___ctl01___form___Requiredfieldvalidator3" style="color: Red; visibility: hidden;">*</span></dt>
	<dd><textarea name="ctl00$_$ctl00$_$ctl01$_$form$_$tbComment" rows="5" cols="25" id="ctl00___ctl00___ctl01___form___tbComment"></textarea></dd>
	<dt></dt>
	<dt><input name="ctl00$_$ctl00$_$ctl01$_$form$_$btnSubmit" value="Submit" onclick='javascript:WebForm_DoPostBackWithOptions(new WebForm_PostBackOptions("ctl00$_$ctl00$_$ctl01$_$form$_$btnSubmit", "", true, "", "", false, false))' id="ctl00___ctl00___ctl01___form___btnSubmit" type="submit"></dt>
</dl>
</div>



   
    
		</div></div>
		<div id="contentfooter">&nbsp;</div>
	</div>

	<div id="footer"></div></div>
</div>

<script type="text/javascript">
<!--
var Page_Validators =  new Array(document.getElementById("ctl00___ctl00___ctl01___form___Requiredfieldvalidator3"));
// -->
</script>

<script type="text/javascript">
<!--
var ctl00___ctl00___ctl01___form___Requiredfieldvalidator3 = document.all ? document.all["ctl00___ctl00___ctl01___form___Requiredfieldvalidator3"] : document.getElementById("ctl00___ctl00___ctl01___form___Requiredfieldvalidator3");
ctl00___ctl00___ctl01___form___Requiredfieldvalidator3.controltovalidate = "ctl00___ctl00___ctl01___form___tbComment";
ctl00___ctl00___ctl01___form___Requiredfieldvalidator3.errormessage = "*";
ctl00___ctl00___ctl01___form___Requiredfieldvalidator3.evaluationfunction = "RequiredFieldValidatorEvaluateIsValid";
ctl00___ctl00___ctl01___form___Requiredfieldvalidator3.initialvalue = "";
// -->
</script>

<script language="javascript" type="text/javascript">
<!--
function KeyDownHandlerctl00___ctl00___bs___ws___SearchButton(event)
{
	if (event.keyCode == 13)
	{
		event.returnValue = false;
		event.cancel = true;
     __doPostBack('ctl00$_$ctl00$_$bs$_$ws$_$SearchButton','')	}
}

//-->
</script>
<script language="javascript">var ctl00___ctl00___ctl01___Entry___Ratings=new RateControl('ctl00___ctl00___ctl01___Entry___Ratings','ctl00___ctl00___ctl01___Entry___Ratings','ctl00___ctl00___ctl01___Entry___Ratings_Value', 5, '/Themes/default/images/common/', false, 'ratemenu','CommonRateControlActive','ratemenu',['Terrible','Poor','Fair','Average','Good','Excellent'],false,true);</script>
<!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
xmlns:dc="http://purl.org/dc/elements/1.1/"
xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
<rdf:Description
rdf:about="http://blogs.msdn.com/alanga/archive/2006/07/10/661635.aspx"
dc:identifier="http://blogs.msdn.com/alanga/archive/2006/07/10/661635.aspx"
dc:title="Using multiple value converters with a binding"
trackback:ping="http://blogs.msdn.com/alanga/trackback.aspx?PostID=661635" />
</rdf:RDF>
-->

<script type="text/javascript">
<!--
var Page_ValidationActive = false;
if (typeof(ValidatorOnLoad) == "function") {
    ValidatorOnLoad();
}

function ValidatorOnSubmit() {
    if (Page_ValidationActive) {
        return ValidatorCommonOnSubmit();
    }
    else {
        return true;
    }
}
// -->
</script>
        </form>
</body></html>