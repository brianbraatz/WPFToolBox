<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0066)http://blog.rioterdecker.net/blogs/chaz/archive/2005/11/30/84.aspx -->
<HTML><HEAD><TITLE>Chaz : Listen media element events</TITLE>
<META http-equiv=Content-Type content="text/html; charset=utf-8">
<META content=WPF name=keywords>
<META 
content="When you play a media element, sound or video, you may want to be notified when the player starts or stops. The player object publishes two interesting events named MediaOpened and MediaEnded. The first event is raised when the video or the sound is over" 
name=description>
<META content="MSHTML 6.00.2900.3199" name=GENERATOR><LINK 
href="http://blog.rioterdecker.net/blogs/pingback.aspx" rel=pingback><LINK 
media=screen href="Chaz  Listen media element events_files/style.css" 
type=text/css rel=stylesheet><LINK media=print 
href="Chaz  Listen media element events_files/print.css" type=text/css 
rel=stylesheet><LINK media=screen 
href="Chaz  Listen media element events_files/right%20sidebar.css" type=text/css 
rel=stylesheet><LINK href="/favicon.ico" type=image/ico 
rel="shortcut icon"><LINK title="Chaz (RSS 2.0)" 
href="http://blog.rioterdecker.net/blogs/chaz/rss.aspx" type=application/rss+xml 
rel=alternate><LINK title="Chaz (Atom 1.0)" 
href="http://blog.rioterdecker.net/blogs/chaz/atom.aspx" 
type=application/atom+xml rel=alternate><LINK 
title="Listen media element events Comment RSS (RSS 2.0)" 
href="http://blog.rioterdecker.net/blogs/chaz/commentrss.aspx?PostID=84" 
type=application/rss+xml rel=alternate>
<SCRIPT src="Chaz  Listen media element events_files/global.js" 
type=text/javascript></SCRIPT>
</HEAD>
<BODY>
<FORM id=__aspnetForm name=__aspnetForm 
action=/blogs/chaz/archive/2005/11/30/84.aspx method=post><INPUT type=hidden 
name=__EVENTTARGET> <INPUT type=hidden name=__EVENTARGUMENT> <INPUT type=hidden 
value=dDwxOTEyODEyMTQ3OztsPF9jdGwwOl86X2N0bDA6XzpCbG9nU2lkZUJhcjE6Xzp3czpfOlNlYXJjaEJveDs+PgUL+f/GgIJK9otucOax//Q380gO 
name=__VIEWSTATE>
<SCRIPT language=javascript type=text/javascript>
<!--
	function __doPostBack(eventTarget, eventArgument) {
		var theform;
		if (window.navigator.appName.toLowerCase().indexOf("microsoft") > -1) {
			theform = document.__aspnetForm;
		}
		else {
			theform = document.forms["__aspnetForm"];
		}
		theform.__EVENTTARGET.value = eventTarget.split("$").join(":");
		theform.__EVENTARGUMENT.value = eventArgument;
		theform.submit();
	}
// -->
</SCRIPT>

<SCRIPT language=javascript type=text/javascript>
var RatingControlAJAX = {

"SaveRating": function(id, rating, clientCallBack) {
	return Ajax_CallBack('CommunityServer.Blogs.Controls.BlogRatePost', id, 'SaveRating', [rating], clientCallBack, false, false, false, true,'/blogs/chaz/archive/2005/11/30/84.aspx?Ajax_CallBack=true');
}

};
</SCRIPT>
 
<DIV id=masthead>
<DIV id=welcome align=right>Welcome to RioterDeckers' HeadQuarter <A 
id=_ctl0____ctl0___duw1_ac1___Login 
href="http://blog.rioterdecker.net/login.aspx?ReturnUrl=/blogs/chaz/archive/2005/11/30/84.aspx">Sign 
in</A> | <A id=_ctl0____ctl0___duw1_ac1___Register 
href="http://blog.rioterdecker.net/user/CreateUser.aspx?ReturnUrl=/blogs/chaz/archive/2005/11/30/84.aspx">Join</A> 
| <A id=_ctl0____ctl0___duw1_Faq1 
href="http://blog.rioterdecker.net/languages/en-US/docs/faq.aspx">Help</A> 
</DIV></DIV>
<DIV id=wrapper>
<DIV id=container>
<DIV id=header>
<DIV id=title>
<H1><A class=headermaintitle id=_ctl0____ctl0___BlogTitleHeader1___BlogTitle 
href="http://blog.rioterdecker.net/blogs/chaz/default.aspx">Chaz</A></H1>
<P id=tagline>WPF underground</P></DIV></DIV>
<DIV id=contentwrapper>
<DIV id=sidebar-a>
<DIV id=WeblogLinks>
<H3>This Blog</H3>
<UL>
  <LI><A href="http://blog.rioterdecker.net/blogs/chaz/about.aspx">About</A> 
  </LI></UL></DIV>
<H3>Calendar</H3>
<DIV id=Cal align=center>
<UL>
  <LI>
  <TABLE class=Calendar id=PostCalendar cellSpacing=0 cellPadding=2 border=0>
    <TBODY>
    <TR>
      <TD colSpan=7>
        <TABLE class=CalendarTitle cellSpacing=0 border=0>
          <TBODY>
          <TR>
            <TD class=CalendarNextPrev align=middle><A style="COLOR: black" 
              href="javascript:__doPostBack('_ctl0$_$_ctl0$_$BlogSideBar1$_$Cal$_$PostCalendar','V2100')">Oct</A></TD>
            <TD align=middle>November 2005</TD>
            <TD class=CalendarNextPrev align=right><A style="COLOR: black" 
              href="javascript:__doPostBack('_ctl0$_$_ctl0$_$BlogSideBar1$_$Cal$_$PostCalendar','V2161')">Dec</A></TD></TR></TBODY></TABLE></TD></TR>
    <TR>
      <TD class=CalendarDayHeader align=middle>S</TD>
      <TD class=CalendarDayHeader align=middle>M</TD>
      <TD class=CalendarDayHeader align=middle>T</TD>
      <TD class=CalendarDayHeader align=middle>W</TD>
      <TD class=CalendarDayHeader align=middle>T</TD>
      <TD class=CalendarDayHeader align=middle>F</TD>
      <TD class=CalendarDayHeader align=middle>S</TD></TR>
    <TR>
      <TD class=CalendarOtherMonth align=middle>30</TD>
      <TD class=CalendarOtherMonth align=middle>31</TD>
      <TD align=middle>1</TD>
      <TD align=middle>2</TD>
      <TD align=middle>3</TD>
      <TD align=middle>4</TD>
      <TD class=CalendarWeekend align=middle>5</TD></TR>
    <TR>
      <TD class=CalendarWeekend align=middle>6</TD>
      <TD align=middle>7</TD>
      <TD align=middle>8</TD>
      <TD align=middle>9</TD>
      <TD align=middle>10</TD>
      <TD align=middle>11</TD>
      <TD class=CalendarWeekend align=middle>12</TD></TR>
    <TR>
      <TD class=CalendarWeekend align=middle>13</TD>
      <TD align=middle>14</TD>
      <TD align=middle>15</TD>
      <TD align=middle>16</TD>
      <TD align=middle>17</TD>
      <TD align=middle>18</TD>
      <TD class=CalendarWeekend align=middle>19</TD></TR>
    <TR>
      <TD class=CalendarWeekend align=middle>20</TD>
      <TD align=middle>21</TD>
      <TD align=middle>22</TD>
      <TD align=middle>23</TD>
      <TD align=middle>24</TD>
      <TD align=middle>25</TD>
      <TD class=CalendarWeekend align=middle>26</TD></TR>
    <TR>
      <TD class=CalendarWeekend align=middle>27</TD>
      <TD align=middle>28</TD>
      <TD align=middle>29</TD>
      <TD align=middle><A title="2 Posts" 
        href="http://blog.rioterdecker.net/blogs/chaz/archive/2005/11/30.aspx">30</A></TD>
      <TD class=CalendarOtherMonth align=middle>1</TD>
      <TD class=CalendarOtherMonth align=middle>2</TD>
      <TD class=CalendarOtherMonth align=middle>3</TD></TR>
    <TR>
      <TD class=CalendarOtherMonth align=middle>4</TD>
      <TD class=CalendarOtherMonth align=middle>5</TD>
      <TD class=CalendarOtherMonth align=middle>6</TD>
      <TD class=CalendarOtherMonth align=middle>7</TD>
      <TD class=CalendarOtherMonth align=middle>8</TD>
      <TD class=CalendarOtherMonth align=middle>9</TD>
      <TD class=CalendarOtherMonth 
align=middle>10</TD></TR></TBODY></TABLE></LI></UL></DIV>
<H3>Search</H3>
<DIV id=Search>
<UL>
  <LI><INPUT class=searchBox id=_ctl0____ctl0___BlogSideBar1___ws___SearchBox 
  onkeydown=KeyDownHandler_ctl0____ctl0___BlogSideBar1___ws___SearchButton(event); 
  name=_ctl0:_:_ctl0:_:BlogSideBar1:_:ws:_:SearchBox> <A 
  id=_ctl0____ctl0___BlogSideBar1___ws___SearchButton 
  href="javascript:__doPostBack('_ctl0$_$_ctl0$_$BlogSideBar1$_$ws$_$SearchButton','')">Go</A> 
  </LI></UL></DIV>
<DIV id=Subscriptions>
<H3>Syndication</H3>
<UL>
  <LI><A href="http://blog.rioterdecker.net/blogs/chaz/rss.aspx">RSS 2.0</A> 
  <LI><A href="http://blog.rioterdecker.net/blogs/chaz/atom.aspx">Atom 1.0</A> 
  </LI></UL></DIV>
<H3>Archives</H3>
<UL>
  <LI><A 
  href="http://blog.rioterdecker.net/blogs/chaz/archive/2007/04.aspx">April 2007 
  (2)</A> 
  <LI><A 
  href="http://blog.rioterdecker.net/blogs/chaz/archive/2006/11.aspx">November 
  2006 (1)</A> 
  <LI><A 
  href="http://blog.rioterdecker.net/blogs/chaz/archive/2006/10.aspx">October 
  2006 (2)</A> 
  <LI><A 
  href="http://blog.rioterdecker.net/blogs/chaz/archive/2006/06.aspx">June 2006 
  (1)</A> 
  <LI><A href="http://blog.rioterdecker.net/blogs/chaz/archive/2006/05.aspx">May 
  2006 (2)</A> 
  <LI><A 
  href="http://blog.rioterdecker.net/blogs/chaz/archive/2006/04.aspx">April 2006 
  (2)</A> 
  <LI><A 
  href="http://blog.rioterdecker.net/blogs/chaz/archive/2006/03.aspx">March 2006 
  (2)</A> 
  <LI><A 
  href="http://blog.rioterdecker.net/blogs/chaz/archive/2006/02.aspx">February 
  2006 (3)</A> 
  <LI><A 
  href="http://blog.rioterdecker.net/blogs/chaz/archive/2006/01.aspx">January 
  2006 (3)</A> 
  <LI><A 
  href="http://blog.rioterdecker.net/blogs/chaz/archive/2005/11.aspx">November 
  2005 (2)</A> 
  <LI><A 
  href="http://blog.rioterdecker.net/blogs/chaz/archive/2005/10.aspx">October 
  2005 (1)</A> </LI></UL>
<H3>Navigation</H3>
<DIV id=headertab>
<UL>
  <LI id=_ctl0____ctl0___BlogSideBar1____ctl2___Menu__ctl0_listItem><A 
  id=_ctl0____ctl0___BlogSideBar1____ctl2___Menu__ctl0_MenuItem 
  href="http://blog.rioterdecker.net/">Home</A> 
  <LI id=_ctl0____ctl0___BlogSideBar1____ctl2___Menu__ctl1_listItem><A 
  id=_ctl0____ctl0___BlogSideBar1____ctl2___Menu__ctl1_MenuItem 
  href="http://blog.rioterdecker.net/blogs/default.aspx">Blogs</A> 
  <LI id=_ctl0____ctl0___BlogSideBar1____ctl2___Menu__ctl2_listItem><A 
  id=_ctl0____ctl0___BlogSideBar1____ctl2___Menu__ctl2_MenuItem 
  href="http://blog.rioterdecker.net/photos/default.aspx">Photos</A> 
  <LI id=_ctl0____ctl0___BlogSideBar1____ctl2___Menu__ctl3_listItem><A 
  id=_ctl0____ctl0___BlogSideBar1____ctl2___Menu__ctl3_MenuItem 
  href="http://blog.rioterdecker.net/files/default.aspx">Files</A> 
</LI></UL></DIV>
<H3>Post Categories</H3>
<UL>
  <LI><A 
  href="http://blog.rioterdecker.net/blogs/chaz/archive/category/1000.aspx">.Net 
  Framework 2.0 (2)</A> 
  <LI><A 
  href="http://blog.rioterdecker.net/blogs/chaz/archive/category/1033.aspx">SilverLight 
  (2)</A> 
  <LI><A 
  href="http://blog.rioterdecker.net/blogs/chaz/archive/category/1002.aspx">Windows 
  Vista (4)</A> 
  <LI><A 
  href="http://blog.rioterdecker.net/blogs/chaz/archive/category/1001.aspx">WPF 
  (14)</A> </LI></UL>
<H3>Useful links</H3>
<UL>
  <LI><A 
  id=_ctl0____ctl0___BlogSideBar1___lcl___Categories__ctl0_Links__ctl1_Link 
  href="http://blogs.msdn.com/tims/archive/2005/06/10/427565.aspx">WPF 
  Bloggers</A> 
  <LI><A 
  id=_ctl0____ctl0___BlogSideBar1___lcl___Categories__ctl0_Links__ctl2_Link 
  href="http://spaces.msn.com/rrelyea/">Rob Relyea's blog</A> 
  <LI><A 
  id=_ctl0____ctl0___BlogSideBar1___lcl___Categories__ctl0_Links__ctl3_Link 
  href="http://weblogs.asp.net/bleroy/">One of my buddies' blog</A> 
  <LI><A 
  id=_ctl0____ctl0___BlogSideBar1___lcl___Categories__ctl0_Links__ctl4_Link 
  href="http://www.netfxfactory.org/">The NetFxFactory community</A> </LI></UL>
<H3>The Massai project</H3>
<UL>
  <LI><A 
  id=_ctl0____ctl0___BlogSideBar1___lcl___Categories__ctl1_Links__ctl1_Link 
  href="http://blog.rioterdecker.net/photos/chaz_blog_pictures/category1031.aspx">Screenshots</A> 
  </LI></UL></DIV>
<DIV id=content>
<DIV class=post>
<DIV class=postview>
<H2>Listen media element events</H2>
<P>When you play a media element, sound or video, you may want to be notified 
when the player starts or stops. The player object publishes two interesting 
events named MediaOpened and MediaEnded. The first event is raised when the 
video or the sound is over whereas the MediaEnded event is raised when the media 
is played again.</P>
<P>To be notified that the player starts and stops, I suggest to use the Clock 
object of the associated player. Indeed, it publishes the 
CurrentStateInvalidated event that returns the current state of the clock object 
for my MediaElement. It can have the Active, Filling and Stopped values. Just 
subscribe to the event as below:</P>
<P><FONT face="Courier New">_mediaElement.Player.Clock.CurrentStateInvalidated 
+= <FONT color=#0000ff>new</FONT> <FONT 
color=teal>EventHandler</FONT>(Clock_CurrentStateInvalidated);</FONT></P>
<P><FONT face="Courier New"><FONT color=#0000ff>void</FONT> 
Clock_CurrentStateInvalidated(<FONT color=#0000ff>object</FONT> sender, <FONT 
color=teal>EventArgs</FONT> e)<BR>{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT 
color=teal>Clock</FONT> __clock = (<FONT 
color=teal>Clock</FONT>)sender;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT 
color=#0000ff>if</FONT>(__clock.CurrentState == <FONT 
color=teal>ClockState</FONT>.Stopped) <FONT 
color=#006400>//DoSomething...</FONT><BR>}</FONT></P>
<P>Note that there is an issue if the RepeatBehavior property of the Timeline 
object is set to RepeatBehavior.Forever&nbsp;(see&nbsp;the preceding post), the 
current state of the clock is never set to Stopped. You can find&nbsp;my 
feedback <A 
href="http://lab.msdn.microsoft.com/productfeedback/viewfeedback.aspx?feedbackid=d92ca5ed-6a05-4ee0-9cd9-d7d82acf102c">here</A>. 
</P>
<P>Stay tuned...<BR><BR></P>
<DIV class=postfoot>Published Wednesday, November 30, 2005 7:52 PM by <A 
id=_ctl0____ctl0____ctl1___Entry___AuthorLink 
href="http://blog.rioterdecker.net/user/Profile.aspx?UserID=2104">Chaz</A> 
<BR>Filed Under: <A 
id=_ctl0____ctl0____ctl1___Entry___Tags___Categories__ctl1_Link 
href="http://blog.rioterdecker.net/blogs/chaz/archive/category/1001.aspx" 
rel=tag>WPF</A> </DIV></DIV></DIV>
<H3>Comments </H3>
<DIV id=comments>
<DIV class=comment>No Comments </DIV></ASP:REPEATER></DIV><EM>Anonymous comments 
are disabled</EM> </DIV>
<DIV id=contentfooter>&nbsp;</DIV></DIV>
<DIV id=footer>
<DIV class=Copyright>rioterdecker - 2006</DIV><A 
href="http://communityserver.org/r.ashx?1" target=_blank><IMG 
alt="Powered by Community Server, by Telligent Systems " 
src="Chaz  Listen media element events_files/EULA.gif" border=0></A> 
</DIV></DIV></DIV>
<SCRIPT language=javascript type=text/javascript>
<!--
function KeyDownHandler_ctl0____ctl0___BlogSideBar1___ws___SearchButton(event)
{
	if (event.keyCode == 13)
	{
		event.returnValue = false;
		event.cancel = true;
     __doPostBack('_ctl0:_:_ctl0:_:BlogSideBar1:_:ws:_:SearchButton','')	}
}

//-->
</SCRIPT>
<!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
xmlns:dc="http://purl.org/dc/elements/1.1/"
xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
<rdf:Description
rdf:about="http://blog.rioterdecker.net/blogs/chaz/archive/2005/11/30/84.aspx"
dc:identifier="http://blog.rioterdecker.net/blogs/chaz/archive/2005/11/30/84.aspx"
dc:title="Listen media element events"
trackback:ping="http://blog.rioterdecker.net/blogs/trackback.aspx?PostID=84" />
</rdf:RDF>
--></FORM></BODY></HTML>
